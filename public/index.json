[
{
	"uri": "//localhost:1313/",
	"title": "Innovation Lab",
	"tags": [],
	"description": "",
	"content": "Building a Comfortable Environment for Innovation and Learning on AWS Workshop Overview Innovation Sandbox on AWS Workshop is a guide to help learning groups or companies have a place to experiment and try things out without worrying about security or costs.\nMain Objectives Manage separate AWS accounts for experimentation Convenient cost management through web interface. Knowledge Requirements (Should know beforehand) Knowledge of AWS Organizations and AWS IAM Identity Center Basic understanding of AWS CloudFormation (just need to understand the concept since template files are already provided) Implementation Time Total implementation time: About 2 hours (may take longer if you want to dive deep) Main Solution Components Component Primary Role AWS IAM Identity Center User authentication, access management Amazon CloudFront Distribute user interface, serve web from S3, forward API to Lambda AWS WAF Security filtering for dynamic routes AWS AppConfig Store solution configuration AWS Organizations Manage multiple AWS accounts under one organization, group by OU, manage entire environment AWS Lambda Execute provisioning logic, cleanup, sandbox account management, dynamic interfaces Amazon EventBridge Trigger tasks based on time or events AWS Step Functions Manage sandbox account state according to logical processes AWS accounts Sandbox accounts prepared and distributed to end users Account Lifecycle Account onboarding: Accounts are brought into the system and cleaned up before use. Available: Accounts ready to be provisioned to users. Active: Accounts in use, system monitors cost and usage time. Frozen: Accounts frozen when exceeding budget or time, or by administrator. Cleanup: When accounts expire, system automatically cleans up resources. Quarantine: If cleanup process fails, accounts are quarantined for reprocessing. Exit: Accounts can be removed from system when necessary. Detailed Explanation of Account Lifecycle Diagram The account lifecycle diagram describes the main states of a sandbox account in the system:\nAvailable: Account ready for provisioning. Active: Currently in use, monitoring cost and time. Frozen: Frozen when exceeding spending/time limits or by administrator request. Cleanup: Clean up account when usage expires. Quarantine: Quarantine if cleanup fails, can retry. Entry/Exit: Onboard or remove account from system. Workshop Deployment Process 1. Prerequisites (Preparation) Prepare AWS environment, create accounts. Time: 15-20 minutes (may take longer if creating new accounts). 2. Deployment Deploy CloudFormation stacks, configure infrastructure, set up management. Time: ~45 minutes. 3. Configuration Configure SAML integration for authentication, set up user access, onboard sandbox accounts. Time: ~15 minutes. 4. Using the sandbox Learn how to use the solution through three different roles. Time: ~30 minutes. References Links: https://catalog.us-east-1.prod.workshops.aws/workshops/23f635fc-dc98-4f75-8b91-6f334d0e22c3\nhttps://docs.aws.amazon.com/solutions/latest/innovation-sandbox-on-aws/solution-overview.html\nhttps://aws.amazon.com/solutions/implementations/innovation-sandbox-on-aws/\n"
},
{
	"uri": "//localhost:1313/1-prerequisite/",
	"title": "Prerequisites",
	"tags": [],
	"description": "",
	"content": "Requirements before deploying Innovation Sandbox on AWS Overview To deploy the Innovation Sandbox solution on AWS, you need to prepare some basic steps for your AWS environment. These steps include:\nIdentifying necessary AWS accounts Choosing AWS region Setting up AWS Organization Enabling the following: AWS IAM Identity Center AWS Resource Access Manager (RAM) AWS CloudFormation StackSets Service Control Policies (SCPs) Estimated time: About 15-20 minutes (may take longer if you need to create new AWS accounts)\nIdentifying necessary AWS accounts Innovation Sandbox uses AWS Organizations features, helping you centrally manage and control your AWS environment when scaling. You need to choose an initial account (called the management account). There are two options for the initial account: Use an existing AWS account Create a new AWS account Note:\nIf you already have an AWS organization: the initial account is the existing management account. If creating a new AWS organization: you can use an independent AWS account (which will become the management account) or create a new account for this role. This account will be the management account for your entire AWS organization. Choosing AWS home Region All Innovation Sandbox components must be deployed in the same AWS region. The chosen region needs to meet: Full support for required services: AWS Organizations, IAM Identity Center, CloudFormation, DynamoDB, Lambda, CloudWatch, Secrets Manager, AppConfig. Where IAM Identity Center has been enabled. Accessible to all users expected to use the solution. When choosing AWS region, consider:\nGeographic location, distance to users, data storage requirements, network latency. Service costs and price differences between regions. Data transfer costs between regions. Price differences for each service. Setting up AWS Organizations You need an AWS organization with at least 4 accounts:\nManagement account Hub account Sandbox account 1 Sandbox account 2 You can add more sandbox accounts as needed.\nSteps to create a new AWS organization:\nLog in to AWS Management Console with administrative rights. Open AWS Organizations console and choose \u0026ldquo;Create an organization\u0026rdquo;. Verify management email according to instructions sent to mailbox. Add member accounts: Can create new accounts (provide name, root email, keep default IAM role). Or invite existing AWS accounts to the organization (by email or account ID). Repeat until you have at least 4 accounts with the following structure: Root\r├── Management account\r├── Hub account\r├── Sandbox account 1\r└── Sandbox account 2 Check in the Settings section of AWS Organizations console: Consolidated billing is enabled All features are enabled Enabling required services Before deploying the solution, ensure the following services are enabled on the management account:\nAWS IAM Identity Center: Centralized access management for AWS accounts.\nOpen IAM Identity Center in management account, check correct region, choose Enable. AWS Resource Access Manager (RAM): Securely share AWS resources between accounts in the organization.\nOpen RAM in management account, go to Settings, enable \u0026ldquo;Enable sharing with AWS Organizations\u0026rdquo;, save. CloudFormation StackSets trusted access: Manage CloudFormation stacks across multiple accounts/regions.\nOpen CloudFormation in management account, choose StackSets, enable \u0026ldquo;Enable trusted access\u0026rdquo;. Service Control Policies (SCPs): Manage access permissions across the entire organization.\nOpen AWS Organizations in management account, go to Policies, choose Service control policies, enable this feature. "
},
{
	"uri": "//localhost:1313/2-deploy-the-solution/",
	"title": "Deploy the Solution",
	"tags": [],
	"description": "",
	"content": "Deploy the Solution The Innovation Sandbox on AWS solution uses four AWS CloudFormation stacks that need to be deployed in a specific order. Each stack must be deployed to the correct account and AWS Region to ensure proper operation. Throughout the deployment process, use the same home Region identified earlier.\nOverview of CloudFormation Stacks The deployment consists of four CloudFormation stacks, each building on the previous one:\nAccountPool Stack\nDeployed on the organization management account Creates the AWS organization structure Sets up platform policies and controls IDC Stack\nDeployed on the organization management account Configures AWS IAM Identity Center integration Sets up identity and access management Data Stack\nDeployed on the hub account Deploys data storage and management components Configures backend services Compute Stack\nDeployed on the hub account Sets up the solution infrastructure Creates the web interface and processing components Stack Relationship Diagram Each CloudFormation stack has a dependency relationship with other stacks and is deployed on different accounts, ensuring the solution\u0026rsquo;s components work together.\nCloudFormation Templates To deploy the solution, use the following CloudFormation template URLs (The original AWS workshop had some errors with the Compute Stack, so the author has replaced it with a drive link containing the new stack. If this link is broken, please contact hieunghiwork123@gmail.com):\nStack Template URL AccountPool https://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-AccountPool.template IDC https://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-IDC.template Data https://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-Data.template Compute https://drive.google.com/file/d/1oJ9DeANLgpscQSEGuO_gk7rxiDSTWf-_/view?usp=sharing Before you begin Before deployment, ensure you have completed the following steps:\nComplete all steps in the Prerequisites module Ensure you have access to both the organization management account and the hub account The account used to set up AWS Organizations or AWS Control Tower is the organization management account Estimated time: About 45 minutes\nDeploying in the correct order and to the correct account/region will ensure the Innovation Sandbox on AWS solution operates effectively and complies with organizational governance policies.\nDeploying the AccountPool Stack Deploying the AccountPool stack is the first step in the organization management account. This stack creates the organization structure and foundational policies needed for the solution.\nDeployment Steps Log in to the AWS Management Console\nOpen the AWS Management Console. Log in with your organization management account. Switch to your chosen home Region. Gather necessary information\nHubAccountId: This is the AWS account ID where you will deploy two of the four stacks. To see all accounts in your organization, go to AWS Organizations in the console, select an account to be the hub, and record its ID for use in step 5 and subsequent steps. ParentOuID: This is the ID of the root or organizational unit (OU) where the Innovation Sandbox OUs will be created. To find this ID, open AWS Organizations; the organization structure will display the ID under each OU\u0026rsquo;s name. You can also use the root organization ID. Initialize the stack\nOpen the AWS CloudFormation console. Select Stacks, then choose \u0026ldquo;Create stack\u0026rdquo;. Choose \u0026ldquo;With new resources (standard)\u0026rdquo;. Specify the template\nChoose \u0026ldquo;Amazon S3 URL\u0026rdquo;. Enter the template URL for the AccountPool stack:\nhttps://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-AccountPool.template Choose \u0026ldquo;Next\u0026rdquo;. Enter stack details\nParameter Description Example Stack name Stack name (optional) fcj-accountpool Namespace Unique identifier for this deployment (3-8 characters, letters/numbers) fcj HubAccountId AWS Account ID of the hub account 123456789012 ParentOuId Root ID or OU ID where the Innovation Sandbox OUs will be created r-emd9 IsbManagedRegions Comma-separated list of allowed Regions us-east-1,us-west-2 Additional notes:\nNamespace: Use the same value for all four stacks. Remember this value for subsequent steps. HubAccountId: Enter the hub account ID obtained in step 2. ParentOuID: Enter the root ID or OU ID obtained in step 2. IsbManagedRegions: Enter the list of Regions that Innovation Sandbox users are allowed to access. Configure stack options\nReview advanced options if needed. Add tags if desired. Choose \u0026ldquo;Next\u0026rdquo;. Review and create the stack\nReview all the information you have entered. Choose \u0026ldquo;Submit\u0026rdquo; to start creating the stack. Check deployment progress\nReopen the CloudFormation console and select Stacks. Find the newly created stack and check its status. Wait until the status changes to \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. You have successfully deployed the first stack. Proceed to deploy the second stack following the next instructions.\nDeploying the IDC Stack The IDC (Identity Center) stack is the second component of the Innovation Sandbox on AWS solution. This stack is deployed on the organization management account and is responsible for configuring integration with AWS IAM Identity Center and setting up access management for the solution.\nDeployment Steps 1. Log in to the AWS Management Console\nOpen the AWS Management Console. Log in with your organization management account. Switch to your chosen home Region. 2. Gather information for step 5\nOpen the IAM Identity Center console. Select Settings. Copy and save the Identity store ID and Instance ARN values for use in step 5. 3. Initialize the stack\nOpen the AWS CloudFormation console. Select Stacks, then choose \u0026ldquo;Create stack\u0026rdquo;. Choose \u0026ldquo;With new resources (standard)\u0026rdquo;. 4. Specify the template\nChoose \u0026ldquo;Amazon S3 URL\u0026rdquo;. Enter the template URL for the IDC stack:\nhttps://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-IDC.template Choose \u0026ldquo;Next\u0026rdquo;. 5. Enter stack details\nParameter Description Example Stack name Stack name (optional) fcj-idc Namespace The same namespace value as in the AccountPool stack fcj01 HubAccountId AWS Account ID of the hub account 123456789012 IdentityStoreId Identity store ID from IAM Identity Center (step 2) d-1234567890 SsoInstanceArn ARN of the SSO instance in IAM Identity Center (step 2) arn:aws:sso:::instance/ssoins-12345678901234567 Additional notes:\nNamespace: Use the same value for all four stacks, same as the previous stack. HubAccountId: This is the AWS Account ID where two of the four stacks will be deployed. IdentityStoreId and SsoInstanceArn: Obtained from the Settings section of IAM Identity Center in step 2. 6. Configure stack options\nReview advanced options if necessary. Add tags if desired. Choose \u0026ldquo;Next\u0026rdquo;. 7. Review and create the stack\nReview all the information you have entered. Choose \u0026ldquo;Submit\u0026rdquo; to start creating the stack. Check deployment progress\nReopen the CloudFormation console and select Stacks. Find the newly created stack and check its status. Wait until the status changes to \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. You have successfully deployed the IDC stack. Proceed to deploy the third stack on the hub account following the next instructions.\nDeploying the Data Stack The Data stack is the third component of the Innovation Sandbox on AWS solution. This stack is deployed on the hub account and is responsible for setting up the data infrastructure and necessary backend services for the solution.\nImportant Note Ensure you are logged into the correct hub account. Use the same AWS Region as in previous deployments. Deployment Steps 1. Log in to the AWS Management Console\nOpen the AWS Management Console. Log in with your hub account. Switch to your chosen home Region. 2. Initialize the stack\nOpen the AWS CloudFormation console. Select Stacks, then choose \u0026ldquo;Create stack\u0026rdquo;. Choose \u0026ldquo;With new resources (standard)\u0026rdquo;. 3. Specify the template\nChoose \u0026ldquo;Amazon S3 URL\u0026rdquo;. Enter the template URL for the Data stack:\nhttps://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-Data.template Choose \u0026ldquo;Next\u0026rdquo;. 4. Enter stack details\nParameter Description Example Stack name Stack name (optional) fcj-data Namespace The same namespace value as in previous deployments fcj01 Namespace: Use the same value used in the previous stacks (e.g., fcj01). 5. Configure stack options\nReview advanced options if needed. Add tags if desired. Choose \u0026ldquo;Next\u0026rdquo;. 6. Review and create the stack\nReview all the information you have entered. Choose \u0026ldquo;Submit\u0026rdquo; to start creating the stack. 7. Check deployment progress\nReopen the CloudFormation console and select Stacks. Find the newly created stack and check its status. Wait until the status changes to \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. You have successfully deployed the Data stack. Proceed to deploy the final stack on the hub account following the next instructions.\nDeploying the Compute Stack The Compute stack is the final component of the Innovation Sandbox on AWS solution. This stack is deployed on the hub account and is responsible for setting up the solution\u0026rsquo;s infrastructure, including the web interface and processing components.\nImportant Note Ensure you are logged into the correct hub account. Use the same AWS Region as in previous deployments. Deployment Steps 1. Log in to the AWS Management Console\nOpen the AWS Management Console. Log in with your hub account. Switch to your chosen home Region. 2. Initialize the stack\nOpen the AWS CloudFormation console. Select Stacks, then choose \u0026ldquo;Create stack\u0026rdquo;. Choose \u0026ldquo;With new resources (standard)\u0026rdquo;. 3. Specify the template\nChoose \u0026ldquo;Upload a template file\u0026rdquo;. Upload the template file for the Compute stack from your computer. Choose \u0026ldquo;Next\u0026rdquo;. 4. Enter stack details\nParameter Description Example Stack name Stack name (optional) fcj-compute Namespace The same namespace value as in previous deployments fcj01 EmailAddress Email address to receive notifications and alerts. Must be verified in Amazon SES. user@example.com Namespace: Use the same value used in the previous stacks. EmailAddress: Enter a verified email address in Amazon SES to receive solution notifications. 5. Configure stack options\nReview advanced options if needed. Add tags if desired. Choose \u0026ldquo;Next\u0026rdquo;. 6. Review and create the stack\nReview all the information you have entered. Acknowledge that AWS CloudFormation might create IAM resources with custom names. Choose \u0026ldquo;Submit\u0026rdquo; to start creating the stack. 7. Check deployment progress\nReopen the CloudFormation console and select Stacks. Find the newly created stack and check its status. Wait until the status changes to \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. After the Compute stack is successfully created, go to the Outputs tab and save the value of CloudFrontDistributionUrl. This is the URL to access the Innovation Sandbox on AWS solution.\n"
},
{
	"uri": "//localhost:1313/3-configure-the-solution/",
	"title": "Configure the Solution",
	"tags": [],
	"description": "",
	"content": "Configure the System Okay, the stacks are done running, but you can\u0026rsquo;t use it yet. You need to configure a bit more before users can get in.\nWhat needs to be done Set up SAML for login Create users and groups in IAM Identity Center Configure the web app Move the sandbox accounts into the right place Setting up SAML 1. Configure SAML\nGo to AWS IAM Identity Center in the management account Select \u0026ldquo;Settings\u0026rdquo; then switch to \u0026ldquo;Identity Source\u0026rdquo; Choose \u0026ldquo;External identity provider\u0026rdquo; to use SAML 2.0 2. Download the certificate\nIn the SAML interface, download the AWS IAM Identity Center certificate file (.pem) Save this file for later use Creating users and groups 1. Create groups\nIn IAM Identity Center, select \u0026ldquo;Groups\u0026rdquo; Create groups based on roles (Admin, Developer, Viewer\u0026hellip;) Assign permissions to each group 2. Add users\nGo to \u0026ldquo;Users\u0026rdquo; in IAM Identity Center Add new users or sync from an external system (if SAML is configured) Add users to the appropriate groups Configuring the web app 1. Update AWS AppConfig\nGo to AWS AppConfig in the hub account Select the Innovation Sandbox app, update the necessary parameters Check if the information matches the environment 2. Configure authentication\nEnsure the web app uses IAM Identity Center for login Check the SAML connection information Onboarding accounts 1. Move accounts\nGo to AWS Organizations using the management account Move the accounts (hub, sandbox\u0026hellip;) into the correct designed OU 2. Double-check\nCheck in AWS Organizations to see if the accounts are in the right place Ensure that policies and permissions have been applied correctly Time: About 15 minutes\nCompleting these steps will make the system ready for users.\nSetting up SAML for Innovation Sandbox This part is a bit technical, but it\u0026rsquo;s necessary for users to log into the system securely.\nImportant notes Do everything in the organization management account - where IAM Identity Center is Make sure you are in the correct selected home Region Steps 1. Create a SAML app in IAM Identity Center\nOpen the AWS IAM Identity Center console with the management account In the navigation bar, select Applications Switch to the Customer managed tab 2. Add a new app\nSelect Add application Select I have an application I want to set up Select SAML 2.0, then Next 3. Configure the app\nOn the configuration page, enter a Display name (e.g., MyFCJ app) and description In the IAM Identity Center metadata section:\nDownload the SAML metadata file Download the certificate Note the Sign-in URL and Sign-out URL - needed for configuration in the hub account\n4. Enter metadata information\nIn the Application metadata section, select Manually type your metadata values Enter the values: Field What to enter Application ACS URL {FCJ_WEB_URL}/api/auth/login/callback (Replace {FCJ_WEB_URL} with the saved CloudFrontDistributionUrl) Application SAML audience App identifier name (can use namespace, e.g., Isb-dev-namespace-Audience). Save for AppConfig configuration 5. Finish\nClick Submit A success message will appear Remember to configure attribute mappings for IAM Identity Center Information to save Sign-in URL Sign-out URL Audience value This information is used to configure the web app and user authentication.\nConfigure Users and Groups Set up users and groups to control who can access and do what in the system. Do this in the management account and use the home Region.\n1. Map app attributes Open the IAM Identity Center console Select Applications Select the newly created app (MyFCJ app) On the app details page, select Actions \u0026gt; Edit attribute mappings In the second box, enter: ${user:email} In the third column, select emailAddress Save changes 2. Assign groups to the app Go back to the configured app Select Assign users and groups Find and add the three groups created by the IDC stack: {NAMESPACE}_IsbUsersGroup {NAMESPACE}_IsbManagersGroup {NAMESPACE}_IsbAdminsGroup Select Assign 3. Add users to groups In the IAM Identity Center console, select Users Select the user to assign to a group (or Add user to add a new one) In the Groups tab, click Add user to groups Select one of the three groups: {NAMESPACE}_IsbUsersGroup {NAMESPACE}_IsbManagersGroup {NAMESPACE}_IsbAdminsGroup Add user to 1 group Note: To test all three roles, you need at least three users, each in a different group.\nConfigure the Web App This section enables login and sets parameters for the app. Do this in the hub account and use the home Region.\n1. Configure AWS AppConfig Open the AWS AppConfig console in the hub account In the navigation bar, select Applications Select InnovationSandboxData-Config-Application-XXXXXXX Select InnovationSandboxData-Config-GlobalConfigHostedConfiguration-XXXXX Create to create a new configuration version Update configuration:\nSet maintenanceMode to false to open the app for users In the auth section, update:\nField What to update idpSignInUrl Sign-in URL from the SAML configuration step idpSignOutUrl Sign-out URL from the SAML configuration step idpAudience Audience ID from the SAML configuration step webAppUrl CloudFront Distribution URL from the CloudFormation Outputs tab (hub account) awsAccessPortalUrl AWS Access Portal URL from the IAM Identity Center dashboard (management account) sessionDurationInMinutes Session duration, e.g., 240 emailFrom Your verified email address Create hosted configuration version Start Deployment and select the newly created version Start Deployment to apply 2. Update certificate in Secrets Manager Open the AWS Secrets Manager console in the hub account Find the secret: /InnovationSandbox//Auth/IDPCert In the Overview tab, Secret value section: Retrieve secret value Edit Plaintext Edit again Paste the content of the downloaded IAM Identity Center certificate file (.pem) Save Note: Ensure all information is accurate and consistent with the previous steps.\nOnboard Sandbox Accounts The final step to complete the configuration. Move AWS accounts into the correct structure and apply controls.\nImportant notes Do this in the organization management account In the correct selected home Region Steps Log in to the AWS Management Console with the management account Open the AWS Organizations console 2. Find accounts to move\nSelect AWS accounts Find the accounts you want to move to the sandbox environment Note: Do not select the management or hub account 3. Move to Entry OU\nSelect the accounts to move In the Actions menu, select Move In the Move AWS account dialog, click the arrow next to the Innovation Sandbox OU to expand it Select Entry OU Move AWS accounts to confirm Result The sandbox accounts are now in the correct location in the Innovation Sandbox structure Control policies will be automatically applied to these accounts Doing this correctly ensures the sandbox environment operates separately, securely, and in compliance with organizational policies.\n"
},
{
	"uri": "//localhost:1313/4-use-the-solution/",
	"title": "Use the Solution",
	"tags": [],
	"description": "",
	"content": "Using the System Okay, now that everything is set up, we\u0026rsquo;ll try using the system with three different roles to see how it works.\nThree main roles Administrator - the highest level of permission Manager - creates templates and approves requests End user - requests accounts to use It should take about 30 minutes to try them all.\nAdministrator Role 1. Logging into the system Get the URL from the CloudFrontDistributionUrl saved during deployment Open the URL in a browser Log in with the admin account. The first time, select Forgot password to set it up. Note: If you see two tabs, Accounts and Applications, select Applications to enter the main app.\n2. Adding accounts for lease In the left navigation bar, Administration \u0026gt; Accounts Click Add accounts In Select accounts, you will see a list of available accounts. If there are none, check if the sandbox account has been moved to the Entry OU. Select a few accounts, Next, then Submit. Go back to Accounts to check the status. 3. Managing settings In the navigation bar, Administration \u0026gt; Settings There are three tabs: General Settings Lease Settings (default maximum budget is $100) Clean Up Settings To change these, you must use AWS AppConfig (explained in the next section). 4. Creating a Service Control Policy to set limits Example: Create an SCP to prevent users from creating m5.large EC2 instances.\nSteps:\nLog into the organization management account Open AWS Organizations In the navigation bar, select Policies Under Supported policy types \u0026gt; Service control policies Click Create policy: Policy name: RestrictEC2Instances Policy description: This SCP restricts launching certain EC2 instance types. Paste this JSON into the policy editor: { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Deny\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;ec2:RunInstances\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:ec2:*:*:instance/*\u0026#34;, \u0026#34;Condition\u0026#34;: { \u0026#34;StringEquals\u0026#34;: { \u0026#34;ec2:InstanceType\u0026#34;: [ \u0026#34;m5.large\u0026#34; ] } } } ] } Create policy Go back to Policies, select the newly created policy In the Targets tab, click Attach Select the OU named your-namespace_InnovationSandboxAccountPool, Attach policy Result: Users in the sandbox account can no longer create m5.large EC2 instances.\nManager Role The manager can edit settings and create templates for user account requests.\nEditing settings with AppConfig Important note: Do this in the hub account, not the management account. Use the correct home Region.\nSteps:\nLog into the hub account In the console search bar, enter AWS AppConfig In the navigation bar, select Applications Select the created app Select InnovationSandboxData-Config-GlobalConfigHostedConfiguration-ID Hosted configuration versions \u0026gt; Create Change maxBudget to 50 (USD) Create hosted configuration version Start deployment Select the newly created version, keep the other settings, Start deployment Creating Lease Templates What is a Lease Template Basically, it\u0026rsquo;s a set of rules defining how users can use resources:\nMaximum budget: How much they can spend Duration: How long they can use it Approval: Whether a manager needs to approve it Alerts: Notifications for when money or time is almost up We\u0026rsquo;ll create two types:\nBasic: $25, auto-approved, for light testing Advanced: $50, needs approval, for larger projects Creating a Basic Template This template is for requests that don\u0026rsquo;t need approval. $25 maximum, alerts at $15, usable for 168 hours (1 week), with a 24-hour warning before expiration.\nSteps:\nIn the Innovation Sandbox console, select the profile in the top right \u0026gt; Sign out Log in with the manager account. Use Forgot password the first time. If there are two tabs, Accounts and Applications, select Applications. In the navigation bar, select Lease Templates. Add new lease template Name: Basic Description: Basic account lease template Uncheck Approval required (no manager approval needed) Next Maximum budget: 100, Next If AppConfig was set correctly, it will error, saying the max budget is $50. Change Maximum Budget Amount to 25. Budget Thresholds \u0026gt; Add a threshold: amount consumed: 15 action: Send Alert. The user will be alerted at $15, and the account will be deleted at $25. Next Maximum Duration \u0026gt; Set a maximum duration \u0026gt; 168 Duration Thresholds \u0026gt; Add a threshold: remaining hours: 24 action: Send Alert. A warning will be sent with 24 hours remaining. Submit Creating an Advanced Template This template requires manager approval. $50 maximum, alerts at $40, 168-hour duration, 24-hour warning.\nSteps:\nLease Templates \u0026gt; Add new lease template Name: Advanced Description: Advanced account lease template Keep Approval required checked Next Maximum budget: 50, Next Budget Thresholds \u0026gt; Add a threshold: amount consumed: 40 action: Send Alert Next Maximum Duration \u0026gt; Set a maximum duration \u0026gt; 168 Duration Thresholds \u0026gt; Add a threshold: remaining hours: 24 action: Send Alert Submit End-User Role Now let\u0026rsquo;s try being a regular user, requesting an account and using it.\n1. Requesting a basic account The basic account will be auto-approved.\nSteps:\nIn the Innovation Sandbox interface, select the profile in the top right \u0026gt; Sign out Log back in with the end user account If there are two tabs, select Applications Request a new account Select Basic lease template, Next Check I accept the above terms of service, Next Comments: enter a reason (e.g., Request for a basic account) Submit In the left navigation bar, select Home. In the Account section, click Refresh to update. When the account is granted, in the Access section, select Login to account Select a role in Select a role to enter the AWS Management Console. 2. Testing SCP limits Check if the SCP is working by trying to create a forbidden EC2 instance.\nSteps:\nIn the AWS Management Console, search for EC2 In the left navigation bar, select Instances Launch instances Name: test-scp. Keep the default AMI. Instance type: select m5.large (this type is blocked by the SCP) Key pair: Proceed without a key pair Keep the other settings, Launch instance You will see an error message because the SCP prevents the creation of m5.large. 3. Requesting an advanced account The advanced account requires manager approval.\nSteps:\nGo back to the Innovation Sandbox interface, log in as an end user Request a new account Select Advanced lease template, Next Check I accept the above terms of service, Next Comments: enter a reason (e.g., Request for an advanced account) Submit Approval process:\nLog out, log in with the manager account The homepage will show a pending request. In the navigation bar, select Approvals. Select the request, Actions \u0026gt; Approve request Managing leases:\nIn the navigation bar, select Leases You will see two leases: basic and advanced You can select a lease and use Actions to terminate, suspend, or update it. 4. Summary Administrator: Sets up the system, creates SCPs to control resources, manages accounts, integrates AppConfig Manager: Configures budgets, creates lease templates (Basic, Advanced), sets up approval processes, monitors usage End user: Requests and accesses AWS accounts, tests SCPs, uses different account types with approval processes That\u0026rsquo;s it, you now know how to use the Innovation Sandbox with all three roles!\n"
},
{
	"uri": "//localhost:1313/5-remove-the-solution/",
	"title": "Remove the Solution",
	"tags": [],
	"description": "",
	"content": "Clean up when you\u0026rsquo;re done If you\u0026rsquo;ve finished testing and want to clean everything up, follow these steps. It should take about 15 minutes.\n1. Delete the first two stacks (in the hub account) Log into the hub account, make sure you\u0026rsquo;re in the right home Region.\nOpen the AWS CloudFormation console.\nSelect the compute stack (e.g., isb-compute), click Delete.\nWait for it to finish deleting.\nNext, select the data stack (e.g., isb-data), click Delete.\nWait for it to finish deleting.\n2. Delete the IAM Identity Center App configuration (in the management account) Log into the management account, make sure you\u0026rsquo;re in the right home Region.\nOpen the IAM Identity Center console.\nIn the navigation bar, select Applications.\nSwitch to the Customer managed tab.\nSelect the Innovation Sandbox on AWS app.\nGo to Actions \u0026gt; Remove.\nConfirm by entering the app name to complete.\n3. Delete the remaining two stacks (in the management account) Open the AWS CloudFormation console.\nSelect the IDC stack (e.g., isb-idc), click Delete.\nWait for it to finish deleting.\nSelect the AccountPool stack (e.g., isb-accountpool), click Delete.\nWait for it to finish deleting.\n4. Close the AWS Sandbox accounts (optional) Note: Before closing an AWS account, carefully read the instructions and impacts of closing an account in the AWS documentation.\nOpen the AWS Organizations console in the management account.\nAccess the Innovation Sandbox on AWS organizational unit.\nOpen each sub-organizational unit to find the sandbox accounts.\nFor each account you want to close:\nSelect the account.\nGo to Actions \u0026gt; Close.\nConfirm by entering the AWS account ID.\nDone! You\u0026rsquo;ve now cleaned up the entire Innovation Sandbox on AWS from your test environment.\n"
},
{
	"uri": "//localhost:1313/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "//localhost:1313/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]