[{"uri":"/vi/","title":"Innovation Lab","tags":[],"description":"","content":"Xây dựng một không gian thực hành thoải mái sáng tạo và học tập trên AWS Tổng quan về Workshop Innovation Sandbox on AWS Workshop là một hướng dẫn giúp các nhóm học tập hay công ty có một nơi để vọc vạch hay là thử nghiệm này kia mà không phải lo về bảo mật hay chi phí\nMục đích chính Quản lý aws account riêng cho thử nghiệm Quản lý chi phí tiện lợi qua giao diện web. Yêu cầu kiến thức (Nên biết trước) Biết AWS Organizations và AWS IAM Identity Center Biết sơ sơ AWS CloudFormation (chỉ cần hiểu khái niệm vì đã có template file có sẵn sẵn) Thời gian hiện thực Tổng thời gian thực hiện: Khoảng 2 giờ (có thể lâu hơn nếu bạn muốn tìm hiểu sâu) Các thành phần chính của giải pháp Thành phần Vai trò chính AWS IAM Identity Center Xác thực người dùng, quản lý truy cập Amazon CloudFront Phân phối giao diện người dùng, phục vụ web từ S3, chuyển tiếp API đến Lambda AWS WAF Lọc bảo mật cho các tuyến động AWS AppConfig Lưu trữ cấu hình giải pháp AWS Organizations Quản lý nhiều tài khoản AWS dưới một tổ chức, nhóm theo OU, quản lý toàn bộ môi trường AWS Lambda Thực thi logic cấp phát, dọn dẹp, quản lý tài khoản sandbox, giao diện động Amazon EventBridge Kích hoạt các tác vụ dựa vào thời gian hoặc sự kiện AWS Step Functions Quản lý trạng thái tài khoản sandbox theo quy trình logic AWS accounts Tài khoản sandbox được chuẩn bị và phân phối đến người dùng cuối Chu trình tài khoản (Account Lifecycle) Onboard tài khoản: Tài khoản được đưa vào hệ thống và dọn dẹp sạch sẽ trước khi sử dụng. Available: Tài khoản sẵn sàng để cấp phát cho người dùng. Active: Tài khoản đang được sử dụng, hệ thống sẽ giám sát chi phí và thời gian sử dụng. Frozen: Tài khoản bị đóng băng khi vượt quá ngân sách hoặc thời gian, hoặc do quản trị viên. Cleanup: Khi tài khoản hết hạn sử dụng, hệ thống sẽ tự động dọn dẹp tài nguyên. Quarantine: Nếu quá trình dọn dẹp thất bại, tài khoản sẽ bị cách ly để xử lý lại. Exit: Tài khoản có thể bị xóa hệ thống khi cần thiết. Giải thích chi tiết sơ đồ vòng đời tài khoản Sơ đồ vòng đời tài khoản mô tả các trạng thái chính của một tài khoản sandbox trong hệ thống:\nAvailable: Tài khoản sẵn sàng để cấp phát. Active: Đang được sử dụng, giám sát chi phí và thời gian. Frozen: Đóng băng khi vượt quá giới hạn chi tiêu/thời gian hoặc do quản trị viên yêu cầu. Cleanup: Dọn dẹp tài khoản khi hết hạn sử dụng. Quarantine: Cách ly nếu dọn dẹp thất bại, có thể thử lại. Entry/Exit: Onboard hoặc loại bỏ tài khoản khỏi hệ thống. Quy trình triển khai Workshop 1. Prerequisites (Chuẩn bị) Chuẩn bị môi trường AWS, tạo tài khoản. Thời gian: 15-20 phút (có thể lâu hơn nếu phải tạo mới tài khoản). 2. Deployment (Triển khai) Triển khai các CloudFormation stack, cấu hình hạ tầng , thiết lập quản lý. Thời gian: ~45 phút. 3. Configuration (Cấu hình) Cấu hình tích hợp SAML cho xác thực, thiết lập truy cập người dùng, onboard tài khoản sandbox. Thời gian: ~15 phút. 4. Using the sandbox Học cách sử dụng giải pháp qua ba vai trò khác nhau. Thời gian: ~30 phút. References Links: https://catalog.us-east-1.prod.workshops.aws/workshops/23f635fc-dc98-4f75-8b91-6f334d0e22c3\nhttps://docs.aws.amazon.com/solutions/latest/innovation-sandbox-on-aws/solution-overview.html\nhttps://aws.amazon.com/solutions/implementations/innovation-sandbox-on-aws/\n"},{"uri":"/vi/1-prerequisite/","title":"Các bước chuẩn bị","tags":[],"description":"","content":"Yêu cầu trước khi triển khai Innovation Sandbox trên AWS Tổng quan Để triển khai giải pháp Innovation Sandbox trên AWS, bạn cần chuẩn bị một số bước cơ bản cho môi trường AWS của mình. Các bước này bao gồm:\nXác định các tài khoản AWS cần thiết Chọn region AWS Thiết lập tổ chức AWS (AWS Organization) Kích hoạt các sau: AWS IAM Identity Center AWS Resource Access Manager (RAM) AWS CloudFormation StackSets Service Control Policies (SCPs) Thời gian dự kiến: Khoảng 15-20 phút (có thể lâu hơn nếu bạn cần tạo mới các tài khoản AWS)\nXác định các tài khoản AWS cần thiết Innovation Sandbox sử dụng tính năng của AWS Organizations, giúp bạn quản lý tập trung và kiểm soát môi trường AWS khi mở rộng quy mô. Bạn cần chọn một tài khoản ban đầu (gọi là tài khoản quản lý – management account). Có hai lựa chọn cho tài khoản ban đầu: Sử dụng tài khoản AWS hiện có Tạo tài khoản AWS mới Lưu ý:\nNếu đã có tổ chức AWS: tài khoản ban đầu chính là tài khoản quản lý hiện có. Nếu tạo tổ chức AWS mới: có thể dùng một tài khoản AWS độc lập (sẽ trở thành management account) hoặc tạo tài khoản mới cho vai trò này. Tài khoản này sẽ là tài khoản quản lý cho toàn bộ tổ chức AWS của bạn. Chọn vùng AWS chính (home Region) Tất cả các thành phần của Innovation Sandbox phải được triển khai trong cùng một vùng AWS. Vùng được chọn cần đáp ứng: Hỗ trợ đầy đủ các dịch vụ bắt buộc: AWS Organizations, IAM Identity Center, CloudFormation, DynamoDB, Lambda, CloudWatch, Secrets Manager, AppConfig. Là nơi đã bật IAM Identity Center. Có thể truy cập cho tất cả người dùng dự kiến sử dụng giải pháp. Khi chọn vùng AWS, cân nhắc:\nVị trí địa lý, khoảng cách với người dùng, yêu cầu lưu trữ dữ liệu, độ trễ mạng. Chi phí dịch vụ và sự khác biệt giá giữa các vùng. Chi phí truyền dữ liệu giữa các vùng. Sự khác biệt về giá của từng dịch vụ. Thiết lập AWS Organizations Bạn cần tổ chức AWS có ít nhất 4 tài khoản:\nTài khoản quản lý (management account) Tài khoản hub (hub account) Sandbox account 1 Sandbox account 2 Có thể thêm nhiều tài khoản sandbox tùy nhu cầu.\nCác bước tạo tổ chức AWS mới:\nĐăng nhập AWS Management Console với quyền quản trị. Mở AWS Organizations console và chọn \u0026ldquo;Create an organization\u0026rdquo;. Xác thực email quản lý theo hướng dẫn gửi về hộp thư. Thêm các tài khoản thành viên: Có thể tạo tài khoản mới (cung cấp tên, email root, giữ nguyên IAM role mặc định). Hoặc mời tài khoản AWS hiện có vào tổ chức (bằng email hoặc ID tài khoản). Lặp lại cho đến khi có ít nhất 4 tài khoản như cấu trúc sau: Root\r├── Management account\r├── Hub account\r├── Sandbox account 1\r└── Sandbox account 2 Kiểm tra trong phần Settings của AWS Organizations console: Đã bật consolidated billing Đã bật all features Kích hoạt các dịch vụ bắt buộc Trước khi triển khai giải pháp, hãy đảm bảo các dịch vụ sau đã được bật trên tài khoản quản lý:\nAWS IAM Identity Center: Quản lý truy cập tập trung cho các tài khoản AWS.\nMở IAM Identity Center ở tài khoản quản lý, kiểm tra đúng vùng, chọn Enable. AWS Resource Access Manager (RAM): Chia sẻ tài nguyên AWS an toàn giữa các tài khoản trong tổ chức.\nMở RAM ở tài khoản quản lý, vào Settings, bật \u0026ldquo;Enable sharing with AWS Organizations\u0026rdquo;, lưu lại. CloudFormation StackSets trusted access: Quản lý CloudFormation stack trên nhiều tài khoản/vùng.\nMở CloudFormation ở tài khoản quản lý, chọn StackSets, bật \u0026ldquo;Enable trusted access\u0026rdquo;. Service Control Policies (SCPs): Quản lý quyền truy cập trên toàn tổ chức.\nMở AWS Organizations ở tài khoản quản lý, vào Policies, chọn Service control policies, bật tính năng này. "},{"uri":"/vi/2-deploy-the-solution/","title":"Deploy the Solution","tags":[],"description":"","content":"Triển khai Giải pháp (Deploy the Solution) Giải pháp Innovation Sandbox trên AWS sử dụng bốn stack AWS CloudFormation, cần được triển khai theo thứ tự nhất định. Mỗi stack phải được triển khai đúng tài khoản và vùng AWS (Region) đã chọn để đảm bảo hoạt động chính xác. Trong suốt quá trình triển khai, hãy sử dụng cùng một home Region đã xác định từ trước.\nTổng quan về các Stack CloudFormation Việc triển khai bao gồm bốn stack CloudFormation, mỗi stack xây dựng dựa trên stack trước đó:\nAccountPool Stack\nTriển khai trên tài khoản quản lý tổ chức (organization management account) Tạo cấu trúc tổ chức AWS Thiết lập các chính sách và kiểm soát nền tảng IDC Stack\nTriển khai trên tài khoản quản lý tổ chức Cấu hình tích hợp AWS IAM Identity Center Thiết lập quản lý danh tính và truy cập Data Stack\nTriển khai trên tài khoản hub Triển khai các thành phần lưu trữ và quản lý dữ liệu Cấu hình các dịch vụ backend Compute Stack\nTriển khai trên tài khoản hub Thiết lập hạ tầng giải pháp Tạo giao diện web và các thành phần xử lý Sơ đồ quan hệ giữa các Stack Mỗi stack CloudFormation có mối quan hệ phụ thuộc với các stack khác và được triển khai trên các tài khoản khác nhau, đảm bảo các thành phần của giải pháp hoạt động phối hợp.\nMẫu Template CloudFormation Để triển khai giải pháp, sử dụng các đường dẫn template CloudFormation sau:\nStack Template URL AccountPool https://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-AccountPool.template IDC https://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-IDC.template Data https://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-Data.template Compute https://drive.google.com/file/d/1oJ9DeANLgpscQSEGuO_gk7rxiDSTWf-_/view?usp=sharing Trước khi bắt đầu Trước khi triển khai, hãy đảm bảo bạn đã hoàn thành các bước sau:\nHoàn thành tất cả các bước trong phần Yêu cầu trước (Prerequisites module) Đảm bảo có quyền truy cập vào cả hai tài khoản: tài khoản quản lý tổ chức (organization management account) và tài khoản hub Tài khoản dùng để thiết lập AWS Organizations hoặc AWS Control Tower chính là tài khoản quản lý tổ chức Thời gian dự kiến: Khoảng 45 phút\nViệc triển khai đúng thứ tự và đúng tài khoản/vùng sẽ đảm bảo giải pháp Innovation Sandbox trên AWS hoạt động hiệu quả và tuân thủ các chính sách quản trị của tổ chức.\nTriển khai AccountPool Stack Triển khai AccountPool stack là bước đầu tiên trong tài khoản quản lý tổ chức (organization management account). Stack này sẽ tạo cấu trúc tổ chức và các chính sách nền tảng cần thiết cho giải pháp.\nCác bước triển khai Đăng nhập vào AWS Management Console\nMở AWS Management Console. Đăng nhập bằng tài khoản quản lý tổ chức của bạn. Chuyển sang vùng AWS chính (home Region) đã chọn. Thu thập thông tin cần thiết\nHubAccountId: Đây là ID tài khoản AWS nơi bạn sẽ triển khai hai trong bốn stack. Để xem tất cả các tài khoản trong tổ chức, vào AWS Organizations trong console, chọn một tài khoản làm hub và ghi lại ID để sử dụng ở bước 5 và các bước sau. ParentOuID: Đây là ID của root hoặc organizational unit (OU) nơi các OU của Innovation Sandbox sẽ được tạo. Để tìm ID này, mở AWS Organizations, cấu trúc tổ chức sẽ hiển thị ID dưới tên từng OU. Bạn cũng có thể dùng root organization ID. Khởi tạo stack\nMở AWS CloudFormation console. Chọn mục Stack, sau đó chọn \u0026ldquo;Create stack\u0026rdquo;. Chọn \u0026ldquo;With new resources (standard)\u0026rdquo;. Chỉ định template\nChọn \u0026ldquo;Amazon S3 URL\u0026rdquo;. Nhập đường dẫn template của AccountPool stack:\nhttps://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-AccountPool.template Chọn \u0026ldquo;Next\u0026rdquo;. Nhập thông tin chi tiết cho stack\nTham số Mô tả Ví dụ Stack name Tên stack (tùy chọn) isb-accountpool Namespace Định danh duy nhất cho triển khai này (3-8 ký tự, chữ/số) isb01 HubAccountId AWS Account ID của tài khoản hub 123456789012 ParentOuId Root ID hoặc OU ID nơi tạo các OU của Innovation Sandbox r-abcd IsbManagedRegions Danh sách các Region cho phép, cách nhau bằng dấu phẩy us-east-1,us-west-2 Lưu ý thêm:\nNamespace: Sử dụng cùng một giá trị này cho cả bốn stack. Ghi nhớ giá trị này để dùng cho các bước tiếp theo. HubAccountId: Nhập ID tài khoản hub đã lấy ở bước 2. ParentOuID: Nhập root ID hoặc OU ID đã lấy ở bước 2. IsbManagedRegions: Nhập danh sách các Region mà người dùng Innovation Sandbox được phép truy cập. Cấu hình các tuỳ chọn stack\nXem lại các tuỳ chọn nâng cao nếu cần. Thêm tags nếu muốn. Chọn \u0026ldquo;Next\u0026rdquo;. Xem lại và tạo stack\nKiểm tra lại toàn bộ thông tin đã nhập. Chọn \u0026ldquo;Submit\u0026rdquo; để bắt đầu tạo stack. Kiểm tra quá trình triển khai\nMở lại CloudFormation console, chọn mục Stacks. Tìm stack vừa tạo và kiểm tra trạng thái. Đợi đến khi trạng thái chuyển sang \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. Bạn đã triển khai thành công stack đầu tiên. Tiếp tục với việc triển khai stack thứ hai theo hướng dẫn tiếp theo.\nTriển khai IDC Stack IDC (Identity Center) stack là thành phần thứ hai của giải pháp Innovation Sandbox trên AWS. Stack này được triển khai trên tài khoản quản lý tổ chức (organization management account) và có nhiệm vụ cấu hình tích hợp với AWS IAM Identity Center, đồng thời thiết lập quản lý truy cập cho giải pháp.\nCác bước triển khai 1. Đăng nhập vào AWS Management Console\nMở AWS Management Console. Đăng nhập bằng tài khoản quản lý tổ chức của bạn. Chuyển sang vùng AWS chính (home Region) đã chọn. 2. Thu thập thông tin cho bước 5\nMở IAM Identity Center console. Chọn mục Settings (Cài đặt). Sao chép và lưu lại hai giá trị: Identity store ID và Instance ARN để sử dụng ở bước 5. 3. Khởi tạo stack\nMở AWS CloudFormation console. Chọn mục Stacks, sau đó chọn \u0026ldquo;Create stack\u0026rdquo;. Chọn \u0026ldquo;With new resources (standard)\u0026rdquo;. 4. Chỉ định template\nChọn \u0026ldquo;Amazon S3 URL\u0026rdquo;. Nhập đường dẫn template của IDC stack:\nhttps://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-IDC.template Chọn \u0026ldquo;Next\u0026rdquo;. 5. Nhập thông tin chi tiết cho stack\nTham số Mô tả Ví dụ Stack name Tên stack (tùy chọn) isb-idc Namespace Giá trị namespace giống như ở stack AccountPool isb01 HubAccountId AWS Account ID của tài khoản hub 123456789012 IdentityStoreId Identity store ID từ IAM Identity Center (bước 2) d-1234567890 SsoInstanceArn ARN của instance SSO trong IAM Identity Center (bước 2) arn:aws:sso:::instance/ssoins-12345678901234567 Lưu ý thêm:\nNamespace: Dùng cùng một giá trị cho cả bốn stack, giống với stack trước. HubAccountId: Là AWS Account ID nơi sẽ triển khai hai trong bốn stack. IdentityStoreId và SsoInstanceArn: Lấy từ mục Settings của IAM Identity Center ở bước 2. 6. Cấu hình các tuỳ chọn stack\nXem lại các tuỳ chọn nâng cao nếu cần thiết. Thêm tags nếu muốn. Chọn \u0026ldquo;Next\u0026rdquo;. 7. Xem lại và tạo stack\nKiểm tra lại toàn bộ thông tin đã nhập. Chọn \u0026ldquo;Submit\u0026rdquo; để bắt đầu tạo stack. Kiểm tra quá trình triển khai\nMở lại CloudFormation console, chọn mục Stacks. Tìm stack vừa tạo và kiểm tra trạng thái. Đợi đến khi trạng thái chuyển sang \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. Bạn đã triển khai thành công IDC stack. Tiếp tục triển khai stack thứ ba trên tài khoản hub theo hướng dẫn tiếp theo.\nTriển khai Data Stack Data stack là thành phần thứ ba của giải pháp Innovation Sandbox trên AWS. Stack này được triển khai trên tài khoản hub và có nhiệm vụ thiết lập hạ tầng dữ liệu cũng như các dịch vụ backend cần thiết cho giải pháp.\nLưu ý quan trọng Đảm bảo bạn đăng nhập đúng vào tài khoản hub. Sử dụng cùng một AWS Region như các lần triển khai trước đó. Các bước triển khai 1. Đăng nhập vào AWS Management Console\nMở AWS Management Console. Đăng nhập bằng tài khoản hub của bạn. Chuyển sang vùng AWS chính (home Region) đã chọn. 2. Khởi tạo stack\nMở AWS CloudFormation console. Chọn mục Stacks, sau đó chọn \u0026ldquo;Create stack\u0026rdquo;. Chọn \u0026ldquo;With new resources (standard)\u0026rdquo;. 3. Chỉ định template\nChọn \u0026ldquo;Amazon S3 URL\u0026rdquo;. Nhập đường dẫn template của Data stack:\nhttps://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-Data.template Chọn \u0026ldquo;Next\u0026rdquo;. 4. Nhập thông tin chi tiết cho stack\nTham số Mô tả Ví dụ Stack name Tên stack (tùy chọn) isb-data Namespace Giá trị namespace giống như ở các lần triển khai trước isb01 Namespace: Dùng cùng một giá trị đã sử dụng ở các stack trước (ví dụ: isb01). 5. Cấu hình các tuỳ chọn stack\nXem lại các tuỳ chọn nâng cao nếu cần. Thêm tags nếu muốn. Chọn \u0026ldquo;Next\u0026rdquo;. 6. Xem lại và tạo stack\nKiểm tra lại toàn bộ thông tin đã nhập. Chọn \u0026ldquo;Submit\u0026rdquo; để bắt đầu tạo stack. 7. Kiểm tra quá trình triển khai\nMở lại CloudFormation console, chọn mục Stacks. Tìm stack vừa tạo và kiểm tra trạng thái. Đợi đến khi trạng thái chuyển sang \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. Bạn đã triển khai thành công Data stack. Tiếp tục triển khai stack cuối cùng trên tài khoản hub theo hướng dẫn tiếp theo.\nTriển khai Compute Stack Compute stack là thành phần cuối cùng của giải pháp Innovation Sandbox trên AWS. Stack này được triển khai trên tài khoản hub và chịu trách nhiệm thiết lập hạ tầng giải pháp, bao gồm giao diện web và các thành phần xử lý.\nCác bước triển khai 1. Đăng nhập vào AWS Management Console\nMở AWS Management Console. Đăng nhập bằng tài khoản hub của bạn. Chuyển sang vùng AWS chính (home Region) đã chọn. 2. Lấy thông tin tài khoản quản lý\nBạn cần ID tài khoản quản lý tổ chức (management account ID) cho bước 5. Nếu chưa có, đăng nhập vào AWS Management Console bằng tài khoản quản lý. Nhấn vào menu tên tài khoản ở góc trên bên phải. Sao chép 12 chữ số ID tài khoản để dùng ở bước tiếp theo. 3. Khởi tạo stack\nMở AWS CloudFormation console. Chọn mục Stacks, sau đó chọn \u0026ldquo;Create stack\u0026rdquo;. Chọn \u0026ldquo;With new resources (standard)\u0026rdquo;. 4. Chỉ định template\nChọn \u0026ldquo;Amazon S3 URL\u0026rdquo;. Nhập đường dẫn template của Compute stack:\nhttps://drive.google.com/file/d/1oJ9DeANLgpscQSEGuO_gk7rxiDSTWf-_/view?usp=sharing Chọn \u0026ldquo;Next\u0026rdquo;. 5. Nhập thông tin chi tiết cho stack\nTham số Mô tả Ví dụ Stack name Tên stack (tùy chọn) isb-compute Namespace Giá trị namespace giống như ở các stack trước isb01 OrgMgtAccountId AWS Account ID của tài khoản quản lý tổ chức 123456789012 IdcAccountId AWS Account ID nơi đã cấu hình IAM Identity Center 123456789012 Namespace: Dùng cùng một giá trị cho tất cả các stack (ví dụ: isb01). OrgMgtAccountId: ID tài khoản quản lý tổ chức. IdcAccountId: ID tài khoản đã cấu hình IAM Identity Center (thường cũng là tài khoản quản lý). 6. Cấu hình các tuỳ chọn stack\nXem lại các tuỳ chọn nâng cao nếu cần. Thêm tags nếu muốn. Chọn \u0026ldquo;Next\u0026rdquo;. 7. Xem lại và tạo stack\nKiểm tra lại toàn bộ thông tin đã nhập. Chọn \u0026ldquo;Submit\u0026rdquo; để bắt đầu tạo stack. 8. Kiểm tra quá trình triển khai\nMở lại CloudFormation console, chọn mục Stacks. Tìm stack vừa tạo và kiểm tra trạng thái. Đợi đến khi trạng thái chuyển sang \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. Sau khi triển khai Vào CloudFormation console, chọn mục Stacks. Chọn Compute stack vừa triển khai. Truy cập tab Outputs. Sao chép giá trị CloudFrontDistributionUrl. Ví dụ:\nhttps://duyXXXXXXXeh.cloudfront.net\nLưu lại giá trị này, bạn sẽ cần dùng trong phần cấu hình tiếp theo. Đây cũng là URL chính để truy cập giải pháp Innovation Sandbox trên AWS của bạn.\n"},{"uri":"/vi/3-configure-the-solution/","title":"Configure the Solution","tags":[],"description":"","content":"C?u h�nh h? th?ng Okay gi? c�c stack d� ch?y xong r?i, nhung chua x�i du?c d�u. Ph?i c?u h�nh th�m t� n?a m?i cho user v�o du?c.\nC?n l�m g� Thi?t l?p SAML d? dang nh?p T?o user v� nh�m trong IAM Identity Center C?u h�nh web app �ua c�c t�i kho?n sandbox v�o d�ng ch? Thi?t l?p SAML 1. C?u h�nh SAML\nV�o AWS IAM Identity Center ? t�i kho?n qu?n l� Ch?n \u0026ldquo;Settings\u0026rdquo; r?i chuy?n sang \u0026ldquo;Identity Source\u0026rdquo; Ch?n \u0026ldquo;External identity provider\u0026rdquo; d? d�ng SAML 2.0 2. T?i certificate\n? giao di?n SAML, t?i file certificate (.pem) c?a AWS IAM Identity Center Luu l?i file n�y d�ng sau T?o user v� nh�m 1. T?o nh�m\nV�o IAM Identity Center, ch?n \u0026ldquo;Groups\u0026rdquo; T?o c�c nh�m theo vai tr� (Admin, Developer, Viewer\u0026hellip;) G�n quy?n cho t?ng nh�m 2. Th�m user\nV�o \u0026ldquo;Users\u0026rdquo; trong IAM Identity Center Th�m user m?i ho?c sync t? h? th?ng b�n ngo�i (n?u d� c?u h�nh SAML) Cho user v�o nh�m ph� h?p C?u h�nh web app 1. C?p nh?t AWS AppConfig\nV�o AWS AppConfig ? t�i kho?n hub Ch?n app Innovation Sandbox, c?p nh?t c�c tham s? c?n thi?t Check l?i th�ng tin c� kh?p v?i m�i tru?ng kh�ng 2. C?u h�nh x�c th?c\n�?m b?o web app d�ng IAM Identity Center d? dang nh?p Ki?m tra th�ng tin k?t n?i SAML �ua t�i kho?n v�o h? th?ng 1. Di chuy?n t�i kho?n\nV�o AWS Organizations b?ng t�i kho?n qu?n l� Chuy?n c�c t�i kho?n (hub, sandbox\u0026hellip;) v�o d�ng OU d� thi?t k? 2. Ki?m tra l?i\nCheck trong AWS Organizations xem t�i kho?n d� ? d�ng ch? chua �?m b?o c�c policy v� quy?n d� du?c �p d?ng d�ng Th?i gian: Kho?ng 15 ph�t\nL�m xong c�c bu?c n�y th� h? th?ng m?i s?n s�ng cho user v�o x�i du?c.\nThi?t l?p SAML cho Innovation Sandbox Ph?n n�y hoi k? thu?t t�, nhung c?n thi?t d? user dang nh?p du?c v�o h? th?ng m?t c�ch an to�n.\nLuu � quan tr?ng L�m t?t c? ? t�i kho?n qu?n l� t? ch?c - noi c� IAM Identity Center �?m b?o dang ? d�ng home Region d� ch?n C�c bu?c l�m 1. T?o SAML app trong IAM Identity Center\nM? AWS IAM Identity Center console b?ng t�i kho?n qu?n l� Thanh di?u hu?ng ch?n Applications Chuy?n sang tab Customer managed 2. Th�m app m?i\nCh?n Add application Ch?n I have an application I want to set up Ch?n SAML 2.0, r?i Next 3. C?u h�nh app\nTrang c?u h�nh, nh?p Display name (v� d?: MyISB app) v� m� t? Ph?n IAM Identity Center metadata: T?i SAML metadata file T?i certificate Ghi l?i Sign-in URL v� Sign-out URL - c?n d�ng khi c?u h�nh ? t�i kho?n hub 4. Nh?p th�ng tin metadata\nPh?n Application metadata, ch?n Manually type your metadata values Nh?p c�c gi� tr?: Tru?ng Nh?p g� Application ACS URL {ISB_WEB_URL}/api/auth/login/callback (Thay {ISB_WEB_URL} b?ng CloudFrontDistributionUrl d� luu) Application SAML audience T�n d?nh danh app (c� th? d�ng t�n namespace, v� d?: Isb-dev-namespace-Audience). Luu l?i d? c?u h�nh AppConfig 5. Ho�n t?t\nNh?n Submit S? c� th�ng b�o c?u h�nh th�nh c�ng Nh? c?u h�nh th�m attribute mappings cho IAM Identity Center Th�ng tin c?n luu l?i Sign-in URL Sign-out URL Audience value C�c th�ng tin n�y d�ng d? c?u h�nh web app v� x�c th?c user.\nC?u h�nh User v� Group Thi?t l?p user v� nh�m d? ki?m so�t ai du?c v�o v� l�m g� trong h? th?ng. L�m ? t�i kho?n qu?n l� v� d�ng home Region.\n1. Map thu?c t�nh app M? IAM Identity Center console Ch?n Applications Ch?n app v?a t?o (MyISB app) Trang chi ti?t app, ch?n Actions \u0026gt; Edit attribute mappings � th? hai nh?p: ${user:email} C?t th? ba ch?n emailAddress Save changes 2. G�n nh�m cho app Quay l?i app v?a c?u h�nh Ch?n Assign users and groups T�m v� th�m ba nh�m d� t?o b?i IDC stack: {NAMESPACE}_IsbUsersGroup {NAMESPACE}_IsbManagersGroup {NAMESPACE}_IsbAdminsGroup Ch?n Assign 3. Cho user v�o nh�m IAM Identity Center console, ch?n Users Ch?n user mu?n g�n nh�m (ho?c Add user d? th�m m?i) Tab Groups, nh?n Add user to groups Ch?n m?t trong ba nh�m: {NAMESPACE}_IsbUsersGroup {NAMESPACE}_IsbManagersGroup {NAMESPACE}_IsbAdminsGroup Add user to 1 group Luu �: �? test d? ba vai tr�, c?n �t nh?t ba user, m?i ngu?i m?t nh�m kh�c nhau.\nC?u h�nh Web App Ph?n n�y k�ch ho?t dang nh?p v� thi?t l?p c�c tham s? cho app. L�m ? t�i kho?n hub v� d�ng home Region.\n1. C?u h�nh AWS AppConfig M? AWS AppConfig console ? t�i kho?n hub Thanh di?u hu?ng ch?n Applications Ch?n InnovationSandboxData-Config-Application-XXXXXXX Ch?n InnovationSandboxData-Config-GlobalConfigHostedConfiguration-XXXXX Create d? t?o phi�n b?n c?u h�nh m?i C?p nh?t c?u h�nh:\n�?t maintenanceMode th�nh false d? m? app cho user Ph?n auth, c?p nh?t:\nTru?ng C?p nh?t g� idpSignInUrl URL dang nh?p t? bu?c c?u h�nh SAML idpSignOutUrl URL dang xu?t t? bu?c c?u h�nh SAML idpAudience Audience ID t? bu?c c?u h�nh SAML webAppUrl CloudFront Distribution URL t? Outputs tab CloudFormation (t�i kho?n hub) awsAccessPortalUrl AWS Access Portal URL t? IAM Identity Center dashboard (t�i kho?n qu?n l�) sessionDurationInMinutes Th?i gian session, v� d?: 240 emailFrom Email d� x�c th?c c?a b?n Create hosted configuration version Start Deployment v� ch?n phi�n b?n v?a t?o Start Deployment d? �p d?ng 2. C?p nh?t certificate trong Secrets Manager M? AWS Secrets Manager console ? t�i kho?n hub T�m secret: /InnovationSandbox//Auth/IDPCert Tab Overview, m?c Secret value: Retrieve secret value Edit Plaintext Edit l?n n?a D�n n?i dung file certificate IAM Identity Center (.pem) d� t?i Save Luu �: �?m b?o t?t c? th�ng tin ch�nh x�c v� nh?t qu�n v?i c�c bu?c tru?c.\n�ua Sandbox Account v�o h? th?ng Bu?c cu?i d? ho�n th�nh c?u h�nh. Chuy?n c�c t�i kho?n AWS v�o d�ng c?u tr�c v� �p d?ng ki?m so�t.\nLuu � quan tr?ng L�m ? t�i kho?n qu?n l� t? ch?c ��ng home Region d� ch?n C�c bu?c �ang nh?p AWS Management Console b?ng t�i kho?n qu?n l� M? AWS Organizations console 2. T�m t�i kho?n c?n chuy?n\nCh?n AWS accounts T�m c�c t�i kho?n mu?n chuy?n v�o m�i tru?ng sandbox Luu �: �?ng ch?n t�i kho?n qu?n l� ho?c t�i kho?n hub 3. Chuy?n v�o Entry OU\nCh?n c�c t�i kho?n c?n chuy?n Menu Actions, ch?n Move H?p tho?i Move AWS account, click mui t�n c?nh Innovation Sandbox OU d? m? r?ng Ch?n Entry OU Move AWS accounts d? x�c nh?n K?t qu? C�c t�i kho?n sandbox d� ? d�ng v? tr� trong c?u tr�c Innovation Sandbox C�c policy ki?m so�t s? t? d?ng �p d?ng cho nh?ng t�i kho?n n�y L�m d�ng bu?c n�y d?m b?o m�i tru?ng sandbox ho?t d?ng ri�ng bi?t, an to�n v� tu�n th? ch�nh s�ch t? ch?c.\n"},{"uri":"/vi/4-use-the-solution/","title":"Use the Solutio","tags":[],"description":"","content":"S? d?ng h? th?ng Okay gi? d� setup xong h?t r?i, ch�ng ta s? th? x�i h? th?ng v?i 3 vai tr� kh�c nhau d? xem n� ho?t d?ng th? n�o.\nBa vai tr� ch�nh Administrator - qu?n tr? vi�n, quy?n cao nh?t Manager - qu?n l�, t?o template v� approve request End user - ngu?i d�ng cu?i, request t�i kho?n d? x�i D? ki?n m?t kho?ng 30 ph�t d? th? h?t.\nVai tr� Administrator 1. �ang nh?p v�o h? th?ng L?y URL t? CloudFrontDistributionUrl d� luu l�c deploy M? URL tr�n browser �ang nh?p b?ng t�i kho?n admin. L?n d?u th� ch?n Forgot password d? set m?t kh?u Luu �: N?u th?y hai tab Accounts v� Applications, ch?n Applications d? v�o app ch�nh.\n2. Th�m t�i kho?n cho thu� Thanh di?u hu?ng b�n tr�i, Administration \u0026gt; Accounts Click Add accounts M?c Select accounts, s? th?y danh s�ch t�i kho?n c� s?n. N?u kh�ng c� g� th� check l?i xem sandbox account d� du?c move v�o OU Entry chua Ch?n m?t v�i t�i kho?n, Next r?i Submit Quay l?i Accounts d? check tr?ng th�i 3. Qu?n l� c�i d?t Thanh di?u hu?ng, Administration \u0026gt; Settings C� ba tab: General Settings Lease Settings (ng�n s�ch t?i da m?c d?nh $100) Clean Up Settings Mu?n d?i th� ph?i d�ng AWS AppConfig (hu?ng d?n ? ph?n sau) 4. T?o Service Control Policy d? gi?i h?n V� d?: T?o SCP d? kh�ng cho user t?o EC2 instance lo?i m5.large.\nC�c bu?c:\n�ang nh?p organization management account M? AWS Organizations Thanh di?u hu?ng ch?n Policies Supported policy types \u0026gt; Service control policies Click Create policy: Policy name: RestrictEC2Instances Policy description: This SCP restricts launching certain EC2 instance types. D�n JSON n�y v�o policy editor: { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Deny\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;ec2:RunInstances\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:ec2:*:*:instance/*\u0026#34;, \u0026#34;Condition\u0026#34;: { \u0026#34;StringEquals\u0026#34;: { \u0026#34;ec2:InstanceType\u0026#34;: [ \u0026#34;m5.large\u0026#34; ] } } } ] } Create policy Quay l?i Policies, ch?n policy v?a t?o Tab Targets, click Attach Ch?n OU t�n your-namespace_InnovationSandboxAccountPool, Attach policy K?t qu?: User trong sandbox account kh�ng th? t?o EC2 instance m5.large n?a.\nVai tr� Manager Manager c� th? ch?nh s?a c�i d?t v� t?o template cho user request t�i kho?n.\nCh?nh s?a c�i d?t b?ng AppConfig Luu � quan tr?ng: L�m ? t�i kho?n hub, kh�ng ph?i t�i kho?n qu?n l�. ��ng home Region.\nC�c bu?c:\n�ang nh?p t�i kho?n hub Thanh t�m ki?m console, nh?p AWS AppConfig Thanh di?u hu?ng ch?n Applications Ch?n app d� t?o Ch?n InnovationSandboxData-Config-GlobalConfigHostedConfiguration-ID Hosted configuration versions \u0026gt; Create �?i maxBudget th�nh 50 (USD) Create hosted configuration version Start deployment Ch?n phi�n b?n v?a t?o, gi? nguy�n setting kh�c, Start deployment T?o Lease Template Lease Template l� g� V? co b?n th� d�y l� b? quy t?c d?nh nghia user c� th? x�i t�i nguy�n th? n�o:\nNg�n s�ch t?i da: C� th? ti�u bao nhi�u ti?n Th?i gian: �u?c x�i bao l�u Approval: C� c?n manager duy?t kh�ng C?nh b�o: B�o khi s?p h?t ti?n ho?c th?i gian S? t?o hai lo?i:\nBasic: $25, t? d?ng approve, cho test nh? Advanced: $50, c?n approve, cho d? �n l?n T?o Basic Template Template n�y cho nh?ng request kh�ng c?n duy?t. $25 t?i da, b�o khi ti�u $15, d�ng du?c 168 ti?ng (1 tu?n), b�o tru?c 24 ti?ng khi h?t h?n.\nC�c bu?c:\nConsole Innovation Sandbox, ch?n profile g�c tr�n ph?i \u0026gt; Sign out �ang nh?p b?ng t�i kho?n manager. L?n d?u d�ng Forgot password N?u c� hai tab Accounts v� Applications, ch?n Applications Thanh di?u hu?ng ch?n Lease Templates Add new lease template Name: Basic Description: Basic account lease template B? tick Approval required (kh�ng c?n manager duy?t) Next Maximum budget: 100, Next N?u d� ch?nh AppConfig d�ng s? b�o l?i ng�n s�ch t?i da $50. �?i Maximum Budget Amount th�nh 25 Budget Thresholds \u0026gt; Add a threshold: amount consumed: 15 action: Send Alert. User s? nh?n c?nh b�o khi ti�u $15, x�a account khi ti�u h?t $25 Next Maximum Duration \u0026gt; Set a maximum duration \u0026gt; 168 Duration Thresholds \u0026gt; Add a threshold: remaining hours: 24 action: Send Alert. B�o khi c�n 24 ti?ng Submit T?o Advanced Template Template n�y c?n manager approve. $50 t?i da, b�o ? $40, th?i gian 168 ti?ng, b�o tru?c 24 ti?ng.\nC�c bu?c:\nLease Templates \u0026gt; Add new lease template Name: Advanced Description: Advanced account lease template Gi? nguy�n Approval required (c?n manager duy?t) Next Maximum budget: 50, Next Budget Thresholds \u0026gt; Add a threshold: amount consumed: 40 action: Send Alert Next Maximum Duration \u0026gt; Set a maximum duration \u0026gt; 168 Duration Thresholds \u0026gt; Add a threshold: remaining hours: 24 action: Send Alert Submit Vai tr� End-User Gi? s? th? l�m user thu?ng, request t�i kho?n v� x�i.\n1. Request t�i kho?n co b?n T�i kho?n basic s? du?c approve t? d?ng.\nC�c bu?c:\nGiao di?n Innovation Sandbox, ch?n profile g�c tr�n ph?i \u0026gt; Sign out �ang nh?p l?i b?ng t�i kho?n end user N?u c� hai tab th� ch?n Applications Request a new account Ch?n Basic lease template, Next Tick I accept the above terms of service, Next Comments: nh?p l� do (v� d?: Request for a basic account) Submit Thanh di?u hu?ng b�n tr�i ch?n Home. M?c Account, click Refresh d? c?p nh?t Khi t�i kho?n du?c c?p, m?c Access ch?n Login to account Ch?n role ? Select a role d? v�o AWS Management Console 2. Test gi?i h?n SCP Check xem SCP c� ho?t d?ng kh�ng b?ng c�ch th? t?o EC2 instance b? c?m.\nC�c bu?c:\nAWS Management Console, nh?p EC2 v�o thanh t�m ki?m Thanh di?u hu?ng b�n tr�i ch?n Instances Launch instances Name: test-scp. Gi? nguy�n AMI m?c d?nh Instance type: ch?n m5.large (lo?i n�y b? SCP ch?n) Key pair: Proceed without a key pair Gi? nguy�n setting kh�c, Launch instance S? th?y b�o l?i do SCP kh�ng cho t?o m5.large 3. Request t�i kho?n n�ng cao T�i kho?n advanced c?n manager approve.\nC�c bu?c:\nQuay l?i giao di?n Innovation Sandbox, dang nh?p end user Request a new account Ch?n Advanced lease template, Next Tick I accept the above terms of service, Next Comments: nh?p l� do (v� d?: Request for an advanced account) Submit Quy tr�nh approve:\n�ang xu?t, dang nh?p b?ng t�i kho?n manager Trang ch? s? th?y request ch? duy?t. Thanh di?u hu?ng ch?n Approvals Ch?n request, Actions \u0026gt; Approve request Qu?n l� lease:\nThanh di?u hu?ng ch?n Leases S? th?y hai lease: basic v� advanced C� th? ch?n lease d�ng Actions d? terminate, suspend ho?c c?p nh?t 4. T?ng k?t Administrator: Setup h? th?ng, t?o SCP ki?m so�t t�i nguy�n, qu?n l� t�i kho?n, t�ch h?p AppConfig Manager: C?u h�nh ng�n s�ch, t?o lease template (Basic, Advanced), thi?t l?p quy tr�nh approve, gi�m s�t s? d?ng End user: Request v� truy c?p t�i kho?n AWS, test SCP, d�ng c�c lo?i t�i kho?n v?i quy tr�nh approve ph� h?p Th? l� xong, gi? b?n d� bi?t c�ch s? d?ng Innovation Sandbox v?i c? 3 vai tr� r?i!\n"},{"uri":"/vi/5-remove-the-solution/","title":"Remove the Solution","tags":[],"description":"","content":"Xóa hết khi không cần nữa Nếu bạn đã thử xong rồi và muốn dọn dẹp sạch sẽ, làm theo các bước này. Dự kiến mất khoảng 15 phút.\n1. Xóa hai stack đầu (ở tài khoản hub) Đăng nhập tài khoản hub, đảm bảo đúng home Region.\nMở AWS CloudFormation console.\nChọn compute stack (ví dụ: isb-compute), click Delete.\nĐợi xóa xong.\nTiếp tục chọn data stack (ví dụ: isb-data), click Delete.\nĐợi xóa xong.\n2. Xóa cấu hình IAM Identity Center App (ở tài khoản quản lý) Đăng nhập tài khoản quản lý, đảm bảo đúng home Region.\nMở IAM Identity Center console.\nThanh điều hướng chọn Applications.\nChuyển sang tab Customer managed.\nChọn app Innovation Sandbox on AWS.\nVào Actions \u0026gt; Remove.\nXác nhận bằng cách nhập tên app để hoàn tất.\n3. Xóa hai stack còn lại (ở tài khoản quản lý) Mở AWS CloudFormation console.\nChọn IDC stack (ví dụ: isb-idc), click Delete.\nĐợi xóa xong.\nChọn AccountPool stack (ví dụ: isb-accountpool), click Delete.\nĐợi xóa xong.\n4. Đóng tài khoản AWS Sandbox (tùy chọn) Lưu ý: Trước khi đóng tài khoản AWS, đọc kỹ hướng dẫn và tác động của việc đóng tài khoản trong tài liệu AWS.\nMở AWS Organizations console ở tài khoản quản lý.\nTruy cập organizational unit của Innovation Sandbox on AWS.\nMở từng sub-organizational unit để tìm các tài khoản sandbox.\nVới mỗi tài khoản cần đóng:\nChọn tài khoản.\nVào Actions \u0026gt; Close.\nXác nhận bằng cách nhập AWS account ID.\nXong! Thế là đã dọn dẹp xong toàn bộ Innovation Sandbox on AWS khỏi môi trường thử nghiệm rồi.\n"},{"uri":"/vi/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"/vi/tags/","title":"Tags","tags":[],"description":"","content":""}]