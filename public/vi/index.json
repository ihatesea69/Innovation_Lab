[
{
	"uri": "//localhost:1313/vi/",
	"title": "Innovation Lab",
	"tags": [],
	"description": "",
	"content": "Xây dựng một không gian thực hành thoải mái sáng tạo và học tập trên AWS Tổng quan về Workshop Innovation Sandbox on AWS Workshop là một hướng dẫn giúp các nhóm học tập hay công ty có một nơi để vọc vạch hay là thử nghiệm này kia mà không phải lo về bảo mật hay chi phí\nMục đích chính Quản lý aws account riêng cho thử nghiệm Quản lý chi phí tiện lợi qua giao diện web. Yêu cầu kiến thức (Nên biết trước) Biết AWS Organizations và AWS IAM Identity Center Biết sơ sơ AWS CloudFormation (chỉ cần hiểu khái niệm vì đã có template file có sẵn sẵn) Thời gian hiện thực Tổng thời gian thực hiện: Khoảng 2 giờ (có thể lâu hơn nếu bạn muốn tìm hiểu sâu) Các thành phần chính của giải pháp Thành phần Vai trò chính AWS IAM Identity Center Xác thực người dùng, quản lý truy cập Amazon CloudFront Phân phối giao diện người dùng, phục vụ web từ S3, chuyển tiếp API đến Lambda AWS WAF Lọc bảo mật cho các tuyến động AWS AppConfig Lưu trữ cấu hình giải pháp AWS Organizations Quản lý nhiều tài khoản AWS dưới một tổ chức, nhóm theo OU, quản lý toàn bộ môi trường AWS Lambda Thực thi logic cấp phát, dọn dẹp, quản lý tài khoản sandbox, giao diện động Amazon EventBridge Kích hoạt các tác vụ dựa vào thời gian hoặc sự kiện AWS Step Functions Quản lý trạng thái tài khoản sandbox theo quy trình logic AWS accounts Tài khoản sandbox được chuẩn bị và phân phối đến người dùng cuối Chu trình tài khoản (Account Lifecycle) Onboard tài khoản: Tài khoản được đưa vào hệ thống và dọn dẹp sạch sẽ trước khi sử dụng. Available: Tài khoản sẵn sàng để cấp phát cho người dùng. Active: Tài khoản đang được sử dụng, hệ thống sẽ giám sát chi phí và thời gian sử dụng. Frozen: Tài khoản bị đóng băng khi vượt quá ngân sách hoặc thời gian, hoặc do quản trị viên. Cleanup: Khi tài khoản hết hạn sử dụng, hệ thống sẽ tự động dọn dẹp tài nguyên. Quarantine: Nếu quá trình dọn dẹp thất bại, tài khoản sẽ bị cách ly để xử lý lại. Exit: Tài khoản có thể bị xóa hệ thống khi cần thiết. Giải thích chi tiết sơ đồ vòng đời tài khoản Sơ đồ vòng đời tài khoản mô tả các trạng thái chính của một tài khoản sandbox trong hệ thống:\nAvailable: Tài khoản sẵn sàng để cấp phát. Active: Đang được sử dụng, giám sát chi phí và thời gian. Frozen: Đóng băng khi vượt quá giới hạn chi tiêu/thời gian hoặc do quản trị viên yêu cầu. Cleanup: Dọn dẹp tài khoản khi hết hạn sử dụng. Quarantine: Cách ly nếu dọn dẹp thất bại, có thể thử lại. Entry/Exit: Onboard hoặc loại bỏ tài khoản khỏi hệ thống. Quy trình triển khai Workshop 1. Prerequisites (Chuẩn bị) Chuẩn bị môi trường AWS, tạo tài khoản. Thời gian: 15-20 phút (có thể lâu hơn nếu phải tạo mới tài khoản). 2. Deployment (Triển khai) Triển khai các CloudFormation stack, cấu hình hạ tầng , thiết lập quản lý. Thời gian: ~45 phút. 3. Configuration (Cấu hình) Cấu hình tích hợp SAML cho xác thực, thiết lập truy cập người dùng, onboard tài khoản sandbox. Thời gian: ~15 phút. 4. Using the sandbox Học cách sử dụng giải pháp qua ba vai trò khác nhau. Thời gian: ~30 phút. References Links: https://catalog.us-east-1.prod.workshops.aws/workshops/23f635fc-dc98-4f75-8b91-6f334d0e22c3\nhttps://docs.aws.amazon.com/solutions/latest/innovation-sandbox-on-aws/solution-overview.html\nhttps://aws.amazon.com/solutions/implementations/innovation-sandbox-on-aws/\n"
},
{
	"uri": "//localhost:1313/vi/1-prerequisite/",
	"title": "Các bước chuẩn bị",
	"tags": [],
	"description": "",
	"content": "Yêu cầu trước khi triển khai Innovation Sandbox trên AWS Tổng quan Để triển khai giải pháp Innovation Sandbox trên AWS, bạn cần chuẩn bị một số bước cơ bản cho môi trường AWS của mình. Các bước này bao gồm:\nXác định các tài khoản AWS cần thiết Chọn region AWS Thiết lập tổ chức AWS (AWS Organization) Kích hoạt các sau: AWS IAM Identity Center AWS Resource Access Manager (RAM) AWS CloudFormation StackSets Service Control Policies (SCPs) Thời gian dự kiến: Khoảng 15-20 phút (có thể lâu hơn nếu bạn cần tạo mới các tài khoản AWS)\nXác định các tài khoản AWS cần thiết Innovation Sandbox sử dụng tính năng của AWS Organizations, giúp bạn quản lý tập trung và kiểm soát môi trường AWS khi mở rộng quy mô. Bạn cần chọn một tài khoản ban đầu (gọi là tài khoản quản lý – management account). Có hai lựa chọn cho tài khoản ban đầu: Sử dụng tài khoản AWS hiện có Tạo tài khoản AWS mới Lưu ý:\nNếu đã có tổ chức AWS: tài khoản ban đầu chính là tài khoản quản lý hiện có. Nếu tạo tổ chức AWS mới: có thể dùng một tài khoản AWS độc lập (sẽ trở thành management account) hoặc tạo tài khoản mới cho vai trò này. Tài khoản này sẽ là tài khoản quản lý cho toàn bộ tổ chức AWS của bạn. Chọn vùng AWS chính (home Region) Tất cả các thành phần của Innovation Sandbox phải được triển khai trong cùng một vùng AWS. Vùng được chọn cần đáp ứng: Hỗ trợ đầy đủ các dịch vụ bắt buộc: AWS Organizations, IAM Identity Center, CloudFormation, DynamoDB, Lambda, CloudWatch, Secrets Manager, AppConfig. Là nơi đã bật IAM Identity Center. Có thể truy cập cho tất cả người dùng dự kiến sử dụng giải pháp. Khi chọn vùng AWS, cân nhắc:\nVị trí địa lý, khoảng cách với người dùng, yêu cầu lưu trữ dữ liệu, độ trễ mạng. Chi phí dịch vụ và sự khác biệt giá giữa các vùng. Chi phí truyền dữ liệu giữa các vùng. Sự khác biệt về giá của từng dịch vụ. Thiết lập AWS Organizations Bạn cần tổ chức AWS có ít nhất 4 tài khoản:\nTài khoản quản lý (management account) Tài khoản hub (hub account) Sandbox account 1 Sandbox account 2 Có thể thêm nhiều tài khoản sandbox tùy nhu cầu.\nCác bước tạo tổ chức AWS mới:\nĐăng nhập AWS Management Console với quyền quản trị. Mở AWS Organizations console và chọn \u0026ldquo;Create an organization\u0026rdquo;. Xác thực email quản lý theo hướng dẫn gửi về hộp thư. Thêm các tài khoản thành viên: Có thể tạo tài khoản mới (cung cấp tên, email root, giữ nguyên IAM role mặc định). Hoặc mời tài khoản AWS hiện có vào tổ chức (bằng email hoặc ID tài khoản). Lặp lại cho đến khi có ít nhất 4 tài khoản như cấu trúc sau: Root ├── Management account ├── Hub account ├── Sandbox account 1 └── Sandbox account 2 Kiểm tra trong phần Settings của AWS Organizations console: Đã bật consolidated billing Đã bật all features Kích hoạt các dịch vụ bắt buộc Trước khi triển khai giải pháp, hãy đảm bảo các dịch vụ sau đã được bật trên tài khoản quản lý:\nAWS IAM Identity Center: Quản lý truy cập tập trung cho các tài khoản AWS.\nMở IAM Identity Center ở tài khoản quản lý, kiểm tra đúng vùng, chọn Enable. AWS Resource Access Manager (RAM): Chia sẻ tài nguyên AWS an toàn giữa các tài khoản trong tổ chức.\nMở RAM ở tài khoản quản lý, vào Settings, bật \u0026ldquo;Enable sharing with AWS Organizations\u0026rdquo;, lưu lại. CloudFormation StackSets trusted access: Quản lý CloudFormation stack trên nhiều tài khoản/vùng.\nMở CloudFormation ở tài khoản quản lý, chọn StackSets, bật \u0026ldquo;Enable trusted access\u0026rdquo;. Service Control Policies (SCPs): Quản lý quyền truy cập trên toàn tổ chức.\nMở AWS Organizations ở tài khoản quản lý, vào Policies, chọn Service control policies, bật tính năng này. "
},
{
	"uri": "//localhost:1313/vi/2-deploy-the-solution/",
	"title": "Deploy the Solution",
	"tags": [],
	"description": "",
	"content": "Triển khai Giải pháp (Deploy the Solution) Giải pháp Innovation Sandbox trên AWS sử dụng bốn stack AWS CloudFormation, cần được triển khai theo thứ tự nhất định. Mỗi stack phải được triển khai đúng tài khoản và vùng AWS (Region) đã chọn để đảm bảo hoạt động chính xác. Trong suốt quá trình triển khai, hãy sử dụng cùng một home Region đã xác định từ trước.\nTổng quan về các Stack CloudFormation Việc triển khai bao gồm bốn stack CloudFormation, mỗi stack xây dựng dựa trên stack trước đó:\nAccountPool Stack\nTriển khai trên tài khoản quản lý tổ chức (organization management account) Tạo cấu trúc tổ chức AWS Thiết lập các chính sách và kiểm soát nền tảng IDC Stack\nTriển khai trên tài khoản quản lý tổ chức Cấu hình tích hợp AWS IAM Identity Center Thiết lập quản lý danh tính và truy cập Data Stack\nTriển khai trên tài khoản hub Triển khai các thành phần lưu trữ và quản lý dữ liệu Cấu hình các dịch vụ backend Compute Stack\nTriển khai trên tài khoản hub Thiết lập hạ tầng giải pháp Tạo giao diện web và các thành phần xử lý Sơ đồ quan hệ giữa các Stack Mỗi stack CloudFormation có mối quan hệ phụ thuộc với các stack khác và được triển khai trên các tài khoản khác nhau, đảm bảo các thành phần của giải pháp hoạt động phối hợp.\nMẫu Template CloudFormation Để triển khai giải pháp, sử dụng các đường dẫn template CloudFormation sau:\nStack Template URL AccountPool https://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-AccountPool.template IDC https://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-IDC.template Data https://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-Data.template Compute https://drive.google.com/file/d/1oJ9DeANLgpscQSEGuO_gk7rxiDSTWf-_/view?usp=sharing Trước khi bắt đầu Trước khi triển khai, hãy đảm bảo bạn đã hoàn thành các bước sau:\nHoàn thành tất cả các bước trong phần Yêu cầu trước (Prerequisites module) Đảm bảo có quyền truy cập vào cả hai tài khoản: tài khoản quản lý tổ chức (organization management account) và tài khoản hub Tài khoản dùng để thiết lập AWS Organizations hoặc AWS Control Tower chính là tài khoản quản lý tổ chức Thời gian dự kiến: Khoảng 45 phút\nViệc triển khai đúng thứ tự và đúng tài khoản/vùng sẽ đảm bảo giải pháp Innovation Sandbox trên AWS hoạt động hiệu quả và tuân thủ các chính sách quản trị của tổ chức.\nTriển khai AccountPool Stack Triển khai AccountPool stack là bước đầu tiên trong tài khoản quản lý tổ chức (organization management account). Stack này sẽ tạo cấu trúc tổ chức và các chính sách nền tảng cần thiết cho giải pháp.\nCác bước triển khai Đăng nhập vào AWS Management Console\nMở AWS Management Console. Đăng nhập bằng tài khoản quản lý tổ chức của bạn. Chuyển sang vùng AWS chính (home Region) đã chọn. Thu thập thông tin cần thiết\nHubAccountId: Đây là ID tài khoản AWS nơi bạn sẽ triển khai hai trong bốn stack. Để xem tất cả các tài khoản trong tổ chức, vào AWS Organizations trong console, chọn một tài khoản làm hub và ghi lại ID để sử dụng ở bước 5 và các bước sau. ParentOuID: Đây là ID của root hoặc organizational unit (OU) nơi các OU của Innovation Sandbox sẽ được tạo. Để tìm ID này, mở AWS Organizations, cấu trúc tổ chức sẽ hiển thị ID dưới tên từng OU. Bạn cũng có thể dùng root organization ID. Khởi tạo stack\nMở AWS CloudFormation console. Chọn mục Stack, sau đó chọn \u0026ldquo;Create stack\u0026rdquo;. Chọn \u0026ldquo;With new resources (standard)\u0026rdquo;. Chỉ định template\nChọn \u0026ldquo;Amazon S3 URL\u0026rdquo;. Nhập đường dẫn template của AccountPool stack:\nhttps://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-AccountPool.template Chọn \u0026ldquo;Next\u0026rdquo;. Nhập thông tin chi tiết cho stack\nTham số Mô tả Ví dụ Stack name Tên stack (tùy chọn) isb-accountpool Namespace Định danh duy nhất cho triển khai này (3-8 ký tự, chữ/số) isb01 HubAccountId AWS Account ID của tài khoản hub 123456789012 ParentOuId Root ID hoặc OU ID nơi tạo các OU của Innovation Sandbox r-abcd IsbManagedRegions Danh sách các Region cho phép, cách nhau bằng dấu phẩy us-east-1,us-west-2 Lưu ý thêm:\nNamespace: Sử dụng cùng một giá trị này cho cả bốn stack. Ghi nhớ giá trị này để dùng cho các bước tiếp theo. HubAccountId: Nhập ID tài khoản hub đã lấy ở bước 2. ParentOuID: Nhập root ID hoặc OU ID đã lấy ở bước 2. IsbManagedRegions: Nhập danh sách các Region mà người dùng Innovation Sandbox được phép truy cập. Cấu hình các tuỳ chọn stack\nXem lại các tuỳ chọn nâng cao nếu cần. Thêm tags nếu muốn. Chọn \u0026ldquo;Next\u0026rdquo;. Xem lại và tạo stack\nKiểm tra lại toàn bộ thông tin đã nhập. Chọn \u0026ldquo;Submit\u0026rdquo; để bắt đầu tạo stack. Kiểm tra quá trình triển khai\nMở lại CloudFormation console, chọn mục Stacks. Tìm stack vừa tạo và kiểm tra trạng thái. Đợi đến khi trạng thái chuyển sang \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. Bạn đã triển khai thành công stack đầu tiên. Tiếp tục với việc triển khai stack thứ hai theo hướng dẫn tiếp theo.\nTriển khai IDC Stack IDC (Identity Center) stack là thành phần thứ hai của giải pháp Innovation Sandbox trên AWS. Stack này được triển khai trên tài khoản quản lý tổ chức (organization management account) và có nhiệm vụ cấu hình tích hợp với AWS IAM Identity Center, đồng thời thiết lập quản lý truy cập cho giải pháp.\nCác bước triển khai 1. Đăng nhập vào AWS Management Console\nMở AWS Management Console. Đăng nhập bằng tài khoản quản lý tổ chức của bạn. Chuyển sang vùng AWS chính (home Region) đã chọn. 2. Thu thập thông tin cho bước 5\nMở IAM Identity Center console. Chọn mục Settings (Cài đặt). Sao chép và lưu lại hai giá trị: Identity store ID và Instance ARN để sử dụng ở bước 5. 3. Khởi tạo stack\nMở AWS CloudFormation console. Chọn mục Stacks, sau đó chọn \u0026ldquo;Create stack\u0026rdquo;. Chọn \u0026ldquo;With new resources (standard)\u0026rdquo;. 4. Chỉ định template\nChọn \u0026ldquo;Amazon S3 URL\u0026rdquo;. Nhập đường dẫn template của IDC stack:\nhttps://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-IDC.template Chọn \u0026ldquo;Next\u0026rdquo;. 5. Nhập thông tin chi tiết cho stack\nTham số Mô tả Ví dụ Stack name Tên stack (tùy chọn) isb-idc Namespace Giá trị namespace giống như ở stack AccountPool isb01 HubAccountId AWS Account ID của tài khoản hub 123456789012 IdentityStoreId Identity store ID từ IAM Identity Center (bước 2) d-1234567890 SsoInstanceArn ARN của instance SSO trong IAM Identity Center (bước 2) arn:aws:sso:::instance/ssoins-12345678901234567 Lưu ý thêm:\nNamespace: Dùng cùng một giá trị cho cả bốn stack, giống với stack trước. HubAccountId: Là AWS Account ID nơi sẽ triển khai hai trong bốn stack. IdentityStoreId và SsoInstanceArn: Lấy từ mục Settings của IAM Identity Center ở bước 2. 6. Cấu hình các tuỳ chọn stack\nXem lại các tuỳ chọn nâng cao nếu cần thiết. Thêm tags nếu muốn. Chọn \u0026ldquo;Next\u0026rdquo;. 7. Xem lại và tạo stack\nKiểm tra lại toàn bộ thông tin đã nhập. Chọn \u0026ldquo;Submit\u0026rdquo; để bắt đầu tạo stack. Kiểm tra quá trình triển khai\nMở lại CloudFormation console, chọn mục Stacks. Tìm stack vừa tạo và kiểm tra trạng thái. Đợi đến khi trạng thái chuyển sang \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. Bạn đã triển khai thành công IDC stack. Tiếp tục triển khai stack thứ ba trên tài khoản hub theo hướng dẫn tiếp theo.\nTriển khai Data Stack Data stack là thành phần thứ ba của giải pháp Innovation Sandbox trên AWS. Stack này được triển khai trên tài khoản hub và có nhiệm vụ thiết lập hạ tầng dữ liệu cũng như các dịch vụ backend cần thiết cho giải pháp.\nLưu ý quan trọng Đảm bảo bạn đăng nhập đúng vào tài khoản hub. Sử dụng cùng một AWS Region như các lần triển khai trước đó. Các bước triển khai 1. Đăng nhập vào AWS Management Console\nMở AWS Management Console. Đăng nhập bằng tài khoản hub của bạn. Chuyển sang vùng AWS chính (home Region) đã chọn. 2. Khởi tạo stack\nMở AWS CloudFormation console. Chọn mục Stacks, sau đó chọn \u0026ldquo;Create stack\u0026rdquo;. Chọn \u0026ldquo;With new resources (standard)\u0026rdquo;. 3. Chỉ định template\nChọn \u0026ldquo;Amazon S3 URL\u0026rdquo;. Nhập đường dẫn template của Data stack:\nhttps://solutions-reference.s3.us-east-1.amazonaws.com/innovation-sandbox-on-aws/latest/InnovationSandbox-Data.template Chọn \u0026ldquo;Next\u0026rdquo;. 4. Nhập thông tin chi tiết cho stack\nTham số Mô tả Ví dụ Stack name Tên stack (tùy chọn) isb-data Namespace Giá trị namespace giống như ở các lần triển khai trước isb01 Namespace: Dùng cùng một giá trị đã sử dụng ở các stack trước (ví dụ: isb01). 5. Cấu hình các tuỳ chọn stack\nXem lại các tuỳ chọn nâng cao nếu cần. Thêm tags nếu muốn. Chọn \u0026ldquo;Next\u0026rdquo;. 6. Xem lại và tạo stack\nKiểm tra lại toàn bộ thông tin đã nhập. Chọn \u0026ldquo;Submit\u0026rdquo; để bắt đầu tạo stack. 7. Kiểm tra quá trình triển khai\nMở lại CloudFormation console, chọn mục Stacks. Tìm stack vừa tạo và kiểm tra trạng thái. Đợi đến khi trạng thái chuyển sang \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. Bạn đã triển khai thành công Data stack. Tiếp tục triển khai stack cuối cùng trên tài khoản hub theo hướng dẫn tiếp theo.\nTriển khai Compute Stack Compute stack là thành phần cuối cùng của giải pháp Innovation Sandbox trên AWS. Stack này được triển khai trên tài khoản hub và chịu trách nhiệm thiết lập hạ tầng giải pháp, bao gồm giao diện web và các thành phần xử lý.\nCác bước triển khai 1. Đăng nhập vào AWS Management Console\nMở AWS Management Console. Đăng nhập bằng tài khoản hub của bạn. Chuyển sang vùng AWS chính (home Region) đã chọn. 2. Lấy thông tin tài khoản quản lý\nBạn cần ID tài khoản quản lý tổ chức (management account ID) cho bước 5. Nếu chưa có, đăng nhập vào AWS Management Console bằng tài khoản quản lý. Nhấn vào menu tên tài khoản ở góc trên bên phải. Sao chép 12 chữ số ID tài khoản để dùng ở bước tiếp theo. 3. Khởi tạo stack\nMở AWS CloudFormation console. Chọn mục Stacks, sau đó chọn \u0026ldquo;Create stack\u0026rdquo;. Chọn \u0026ldquo;With new resources (standard)\u0026rdquo;. 4. Chỉ định template\nChọn \u0026ldquo;Amazon S3 URL\u0026rdquo;. Nhập đường dẫn template của Compute stack:\nhttps://drive.google.com/file/d/1oJ9DeANLgpscQSEGuO_gk7rxiDSTWf-_/view?usp=sharing Chọn \u0026ldquo;Next\u0026rdquo;. 5. Nhập thông tin chi tiết cho stack\nTham số Mô tả Ví dụ Stack name Tên stack (tùy chọn) isb-compute Namespace Giá trị namespace giống như ở các stack trước isb01 OrgMgtAccountId AWS Account ID của tài khoản quản lý tổ chức 123456789012 IdcAccountId AWS Account ID nơi đã cấu hình IAM Identity Center 123456789012 Namespace: Dùng cùng một giá trị cho tất cả các stack (ví dụ: isb01). OrgMgtAccountId: ID tài khoản quản lý tổ chức. IdcAccountId: ID tài khoản đã cấu hình IAM Identity Center (thường cũng là tài khoản quản lý). 6. Cấu hình các tuỳ chọn stack\nXem lại các tuỳ chọn nâng cao nếu cần. Thêm tags nếu muốn. Chọn \u0026ldquo;Next\u0026rdquo;. 7. Xem lại và tạo stack\nKiểm tra lại toàn bộ thông tin đã nhập. Chọn \u0026ldquo;Submit\u0026rdquo; để bắt đầu tạo stack. 8. Kiểm tra quá trình triển khai\nMở lại CloudFormation console, chọn mục Stacks. Tìm stack vừa tạo và kiểm tra trạng thái. Đợi đến khi trạng thái chuyển sang \u0026ldquo;CREATE_COMPLETE\u0026rdquo;. Sau khi triển khai Vào CloudFormation console, chọn mục Stacks. Chọn Compute stack vừa triển khai. Truy cập tab Outputs. Sao chép giá trị CloudFrontDistributionUrl. Ví dụ:\nhttps://duyXXXXXXXeh.cloudfront.net\nLưu lại giá trị này, bạn sẽ cần dùng trong phần cấu hình tiếp theo. Đây cũng là URL chính để truy cập giải pháp Innovation Sandbox trên AWS của bạn.\n"
},
{
	"uri": "//localhost:1313/vi/3-configure-the-solution/",
	"title": "Khởi tạo Target Group",
	"tags": [],
	"description": "",
	"content": "Cấu hình hệ thống Okay giờ các stack đã chạy xong rồi, nhưng chưa xài được đâu. Phải cấu hình thêm tí nữa mới cho user vào được.\nCần làm gì Thiết lập SAML để đăng nhập Tạo user và nhóm trong IAM Identity Center Cấu hình web app Đưa các tài khoản sandbox vào đúng chỗ Thiết lập SAML 1. Cấu hình SAML\nVào AWS IAM Identity Center ở tài khoản quản lý Chọn \u0026ldquo;Settings\u0026rdquo; rồi chuyển sang \u0026ldquo;Identity Source\u0026rdquo; Chọn \u0026ldquo;External identity provider\u0026rdquo; để dùng SAML 2.0 2. Tải certificate\nỞ giao diện SAML, tải file certificate (.pem) của AWS IAM Identity Center Lưu lại file này dùng sau Tạo user và nhóm 1. Tạo nhóm\nVào IAM Identity Center, chọn \u0026ldquo;Groups\u0026rdquo; Tạo các nhóm theo vai trò (Admin, Developer, Viewer\u0026hellip;) Gán quyền cho từng nhóm 2. Thêm user\nVào \u0026ldquo;Users\u0026rdquo; trong IAM Identity Center Thêm user mới hoặc sync từ hệ thống bên ngoài (nếu đã cấu hình SAML) Cho user vào nhóm phù hợp Cấu hình web app 1. Cập nhật AWS AppConfig\nVào AWS AppConfig ở tài khoản hub Chọn app Innovation Sandbox, cập nhật các tham số cần thiết Check lại thông tin có khớp với môi trường không 2. Cấu hình xác thực\nĐảm bảo web app dùng IAM Identity Center để đăng nhập Kiểm tra thông tin kết nối SAML Đưa tài khoản vào hệ thống 1. Di chuyển tài khoản\nVào AWS Organizations bằng tài khoản quản lý Chuyển các tài khoản (hub, sandbox\u0026hellip;) vào đúng OU đã thiết kế 2. Kiểm tra lại\nCheck trong AWS Organizations xem tài khoản đã ở đúng chỗ chưa Đảm bảo các policy và quyền đã được áp dụng đúng Thời gian: Khoảng 15 phút\nLàm xong các bước này thì hệ thống mới sẵn sàng cho user vào xài được.\nThiết lập SAML cho Innovation Sandbox Phần này hơi kỹ thuật tí, nhưng cần thiết để user đăng nhập được vào hệ thống một cách an toàn.\nLưu ý quan trọng Làm tất cả ở tài khoản quản lý tổ chức - nơi có IAM Identity Center Đảm bảo đang ở đúng home Region đã chọn Các bước làm 1. Tạo SAML app trong IAM Identity Center\nMở AWS IAM Identity Center console bằng tài khoản quản lý Thanh điều hướng chọn Applications Chuyển sang tab Customer managed 2. Thêm app mới\nChọn Add application Chọn I have an application I want to set up Chọn SAML 2.0, rồi Next 3. Cấu hình app\nTrang cấu hình, nhập Display name (ví dụ: MyISB app) và mô tả Phần IAM Identity Center metadata: Tải SAML metadata file Tải certificate Ghi lại Sign-in URL và Sign-out URL - cần dùng khi cấu hình ở tài khoản hub 4. Nhập thông tin metadata\nPhần Application metadata, chọn Manually type your metadata values Nhập các giá trị: Trường Nhập gì Application ACS URL {ISB_WEB_URL}/api/auth/login/callback (Thay {ISB_WEB_URL} bằng CloudFrontDistributionUrl đã lưu) Application SAML audience Tên định danh app (có thể dùng tên namespace, ví dụ: Isb-dev-namespace-Audience). Lưu lại để cấu hình AppConfig 5. Hoàn tất\nNhấn Submit Sẽ có thông báo cấu hình thành công Nhớ cấu hình thêm attribute mappings cho IAM Identity Center Thông tin cần lưu lại Sign-in URL Sign-out URL Audience value Các thông tin này dùng để cấu hình web app và xác thực user.\nCấu hình User và Group Thiết lập user và nhóm để kiểm soát ai được vào và làm gì trong hệ thống. Làm ở tài khoản quản lý và đúng home Region.\n1. Map thuộc tính app Mở IAM Identity Center console Chọn Applications Chọn app vừa tạo (MyISB app) Trang chi tiết app, chọn Actions \u0026gt; Edit attribute mappings Ô thứ hai nhập: ${user:email} Cột thứ ba chọn emailAddress Save changes 2. Gán nhóm cho app Quay lại app vừa cấu hình Chọn Assign users and groups Tìm và thêm ba nhóm đã tạo bởi IDC stack: {NAMESPACE}_IsbUsersGroup {NAMESPACE}_IsbManagersGroup {NAMESPACE}_IsbAdminsGroup Chọn Assign 3. Cho user vào nhóm IAM Identity Center console, chọn Users Chọn user muốn gán nhóm (hoặc Add user để thêm mới) Tab Groups, nhấn Add user to groups Chọn một trong ba nhóm: {NAMESPACE}_IsbUsersGroup {NAMESPACE}_IsbManagersGroup {NAMESPACE}_IsbAdminsGroup Add user to 1 group Lưu ý: Để test đủ ba vai trò, cần ít nhất ba user, mỗi người một nhóm khác nhau.\nCấu hình Web App Phần này kích hoạt đăng nhập và thiết lập các tham số cho app. Làm ở tài khoản hub và đúng home Region.\n1. Cấu hình AWS AppConfig Mở AWS AppConfig console ở tài khoản hub Thanh điều hướng chọn Applications Chọn InnovationSandboxData-Config-Application-XXXXXXX Chọn InnovationSandboxData-Config-GlobalConfigHostedConfiguration-XXXXX Create để tạo phiên bản cấu hình mới Cập nhật cấu hình:\nĐặt maintenanceMode thành false để mở app cho user Phần auth, cập nhật:\nTrường Cập nhật gì idpSignInUrl URL đăng nhập từ bước cấu hình SAML idpSignOutUrl URL đăng xuất từ bước cấu hình SAML idpAudience Audience ID từ bước cấu hình SAML webAppUrl CloudFront Distribution URL từ Outputs tab CloudFormation (tài khoản hub) awsAccessPortalUrl AWS Access Portal URL từ IAM Identity Center dashboard (tài khoản quản lý) sessionDurationInMinutes Thời gian session, ví dụ: 240 emailFrom Email đã xác thực của bạn Create hosted configuration version Start Deployment và chọn phiên bản vừa tạo Start Deployment để áp dụng 2. Cập nhật certificate trong Secrets Manager Mở AWS Secrets Manager console ở tài khoản hub Tìm secret: /InnovationSandbox//Auth/IDPCert Tab Overview, mục Secret value: Retrieve secret value Edit Plaintext Edit lần nữa Dán nội dung file certificate IAM Identity Center (.pem) đã tải Save Lưu ý: Đảm bảo tất cả thông tin chính xác và nhất quán với các bước trước.\nĐưa Sandbox Account vào hệ thống Bước cuối để hoàn thành cấu hình. Chuyển các tài khoản AWS vào đúng cấu trúc và áp dụng kiểm soát.\nLưu ý quan trọng Làm ở tài khoản quản lý tổ chức Đúng home Region đã chọn Các bước Đăng nhập AWS Management Console bằng tài khoản quản lý Mở AWS Organizations console 2. Tìm tài khoản cần chuyển\nChọn AWS accounts Tìm các tài khoản muốn chuyển vào môi trường sandbox Lưu ý: Đừng chọn tài khoản quản lý hoặc tài khoản hub 3. Chuyển vào Entry OU\nChọn các tài khoản cần chuyển Menu Actions, chọn Move Hộp thoại Move AWS account, click mũi tên cạnh Innovation Sandbox OU để mở rộng Chọn Entry OU Move AWS accounts để xác nhận Kết quả Các tài khoản sandbox đã ở đúng vị trí trong cấu trúc Innovation Sandbox Các policy kiểm soát sẽ tự động áp dụng cho những tài khoản này Làm đúng bước này đảm bảo môi trường sandbox hoạt động riêng biệt, an toàn và tuân thủ chính sách tổ chức.\n"
},
{
	"uri": "//localhost:1313/vi/4-use-the-solution/",
	"title": "Khởi tạo Load Balancer",
	"tags": [],
	"description": "",
	"content": "Sử dụng hệ thống Okay giờ đã setup xong hết rồi, chúng ta sẽ thử xài hệ thống với 3 vai trò khác nhau để xem nó hoạt động thế nào.\nBa vai trò chính Administrator - quản trị viên, quyền cao nhất Manager - quản lý, tạo template và approve request End user - người dùng cuối, request tài khoản để xài Dự kiến mất khoảng 30 phút để thử hết.\nVai trò Administrator 1. Đăng nhập vào hệ thống Lấy URL từ CloudFrontDistributionUrl đã lưu lúc deploy Mở URL trên browser Đăng nhập bằng tài khoản admin. Lần đầu thì chọn Forgot password để set mật khẩu Lưu ý: Nếu thấy hai tab Accounts và Applications, chọn Applications để vào app chính.\n2. Thêm tài khoản cho thuê Thanh điều hướng bên trái, Administration \u0026gt; Accounts Click Add accounts Mục Select accounts, sẽ thấy danh sách tài khoản có sẵn. Nếu không có gì thì check lại xem sandbox account đã được move vào OU Entry chưa Chọn một vài tài khoản, Next rồi Submit Quay lại Accounts để check trạng thái 3. Quản lý cài đặt Thanh điều hướng, Administration \u0026gt; Settings Có ba tab: General Settings Lease Settings (ngân sách tối đa mặc định $100) Clean Up Settings Muốn đổi thì phải dùng AWS AppConfig (hướng dẫn ở phần sau) 4. Tạo Service Control Policy để giới hạn Ví dụ: Tạo SCP để không cho user tạo EC2 instance loại m5.large.\nCác bước:\nĐăng nhập organization management account Mở AWS Organizations Thanh điều hướng chọn Policies Supported policy types \u0026gt; Service control policies Click Create policy: Policy name: RestrictEC2Instances Policy description: This SCP restricts launching certain EC2 instance types. Dán JSON này vào policy editor: { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Deny\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;ec2:RunInstances\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:ec2:*:*:instance/*\u0026#34;, \u0026#34;Condition\u0026#34;: { \u0026#34;StringEquals\u0026#34;: { \u0026#34;ec2:InstanceType\u0026#34;: [ \u0026#34;m5.large\u0026#34; ] } } } ] } Create policy Quay lại Policies, chọn policy vừa tạo Tab Targets, click Attach Chọn OU tên your-namespace_InnovationSandboxAccountPool, Attach policy Kết quả: User trong sandbox account không thể tạo EC2 instance m5.large nữa.\nVai trò Manager Manager có thể chỉnh sửa cài đặt và tạo template cho user request tài khoản.\nChỉnh sửa cài đặt bằng AppConfig Lưu ý quan trọng: Làm ở tài khoản hub, không phải tài khoản quản lý. Đúng home Region.\nCác bước:\nĐăng nhập tài khoản hub Thanh tìm kiếm console, nhập AWS AppConfig Thanh điều hướng chọn Applications Chọn app đã tạo Chọn InnovationSandboxData-Config-GlobalConfigHostedConfiguration-ID Hosted configuration versions \u0026gt; Create Đổi maxBudget thành 50 (USD) Create hosted configuration version Start deployment Chọn phiên bản vừa tạo, giữ nguyên setting khác, Start deployment Tạo Lease Template Lease Template là gì Về cơ bản thì đây là bộ quy tắc định nghĩa user có thể xài tài nguyên thế nào:\nNgân sách tối đa: Có thể tiêu bao nhiêu tiền Thời gian: Được xài bao lâu Approval: Có cần manager duyệt không Cảnh báo: Báo khi sắp hết tiền hoặc thời gian Sẽ tạo hai loại:\nBasic: $25, tự động approve, cho test nhỏ Advanced: $50, cần approve, cho dự án lớn Tạo Basic Template Template này cho những request không cần duyệt. $25 tối đa, báo khi tiêu $15, dùng được 168 tiếng (1 tuần), báo trước 24 tiếng khi hết hạn.\nCác bước:\nConsole Innovation Sandbox, chọn profile góc trên phải \u0026gt; Sign out Đăng nhập bằng tài khoản manager. Lần đầu dùng Forgot password Nếu có hai tab Accounts và Applications, chọn Applications Thanh điều hướng chọn Lease Templates Add new lease template Name: Basic Description: Basic account lease template Bỏ tick Approval required (không cần manager duyệt) Next Maximum budget: 100, Next Nếu đã chỉnh AppConfig đúng sẽ báo lỗi ngân sách tối đa $50. Đổi Maximum Budget Amount thành 25 Budget Thresholds \u0026gt; Add a threshold: amount consumed: 15 action: Send Alert. User sẽ nhận cảnh báo khi tiêu $15, xóa account khi tiêu hết $25 Next Maximum Duration \u0026gt; Set a maximum duration \u0026gt; 168 Duration Thresholds \u0026gt; Add a threshold: remaining hours: 24 action: Send Alert. Báo khi còn 24 tiếng Submit Tạo Advanced Template Template này cần manager approve. $50 tối đa, báo ở $40, thời gian 168 tiếng, báo trước 24 tiếng.\nCác bước:\nLease Templates \u0026gt; Add new lease template Name: Advanced Description: Advanced account lease template Giữ nguyên Approval required (cần manager duyệt) Next Maximum budget: 50, Next Budget Thresholds \u0026gt; Add a threshold: amount consumed: 40 action: Send Alert Next Maximum Duration \u0026gt; Set a maximum duration \u0026gt; 168 Duration Thresholds \u0026gt; Add a threshold: remaining hours: 24 action: Send Alert Submit Vai trò End-User Giờ sẽ thử làm user thường, request tài khoản và xài.\n1. Request tài khoản cơ bản Tài khoản basic sẽ được approve tự động.\nCác bước:\nGiao diện Innovation Sandbox, chọn profile góc trên phải \u0026gt; Sign out Đăng nhập lại bằng tài khoản end user Nếu có hai tab thì chọn Applications Request a new account Chọn Basic lease template, Next Tick I accept the above terms of service, Next Comments: nhập lý do (ví dụ: Request for a basic account) Submit Thanh điều hướng bên trái chọn Home. Mục Account, click Refresh để cập nhật Khi tài khoản được cấp, mục Access chọn Login to account Chọn role ở Select a role để vào AWS Management Console 2. Test giới hạn SCP Check xem SCP có hoạt động không bằng cách thử tạo EC2 instance bị cấm.\nCác bước:\nAWS Management Console, nhập EC2 vào thanh tìm kiếm Thanh điều hướng bên trái chọn Instances Launch instances Name: test-scp. Giữ nguyên AMI mặc định Instance type: chọn m5.large (loại này bị SCP chặn) Key pair: Proceed without a key pair Giữ nguyên setting khác, Launch instance Sẽ thấy báo lỗi do SCP không cho tạo m5.large 3. Request tài khoản nâng cao Tài khoản advanced cần manager approve.\nCác bước:\nQuay lại giao diện Innovation Sandbox, đăng nhập end user Request a new account Chọn Advanced lease template, Next Tick I accept the above terms of service, Next Comments: nhập lý do (ví dụ: Request for an advanced account) Submit Quy trình approve:\nĐăng xuất, đăng nhập bằng tài khoản manager Trang chủ sẽ thấy request chờ duyệt. Thanh điều hướng chọn Approvals Chọn request, Actions \u0026gt; Approve request Quản lý lease:\nThanh điều hướng chọn Leases Sẽ thấy hai lease: basic và advanced Có thể chọn lease dùng Actions để terminate, suspend hoặc cập nhật 4. Tổng kết Administrator: Setup hệ thống, tạo SCP kiểm soát tài nguyên, quản lý tài khoản, tích hợp AppConfig Manager: Cấu hình ngân sách, tạo lease template (Basic, Advanced), thiết lập quy trình approve, giám sát sử dụng End user: Request và truy cập tài khoản AWS, test SCP, dùng các loại tài khoản với quy trình approve phù hợp Thế là xong, giờ bạn đã biết cách sử dụng Innovation Sandbox với cả 3 vai trò rồi!\n"
},
{
	"uri": "//localhost:1313/vi/5-remove-the-solution/",
	"title": "Khởi tạo Auto Scaling Group",
	"tags": [],
	"description": "",
	"content": "Xóa hết khi không cần nữa Nếu bạn đã thử xong rồi và muốn dọn dẹp sạch sẽ, làm theo các bước này. Dự kiến mất khoảng 15 phút.\n1. Xóa hai stack đầu (ở tài khoản hub) Đăng nhập tài khoản hub, đảm bảo đúng home Region.\nMở AWS CloudFormation console.\nChọn compute stack (ví dụ: isb-compute), click Delete.\nĐợi xóa xong.\nTiếp tục chọn data stack (ví dụ: isb-data), click Delete.\nĐợi xóa xong.\n2. Xóa cấu hình IAM Identity Center App (ở tài khoản quản lý) Đăng nhập tài khoản quản lý, đảm bảo đúng home Region.\nMở IAM Identity Center console.\nThanh điều hướng chọn Applications.\nChuyển sang tab Customer managed.\nChọn app Innovation Sandbox on AWS.\nVào Actions \u0026gt; Remove.\nXác nhận bằng cách nhập tên app để hoàn tất.\n3. Xóa hai stack còn lại (ở tài khoản quản lý) Mở AWS CloudFormation console.\nChọn IDC stack (ví dụ: isb-idc), click Delete.\nĐợi xóa xong.\nChọn AccountPool stack (ví dụ: isb-accountpool), click Delete.\nĐợi xóa xong.\n4. Đóng tài khoản AWS Sandbox (tùy chọn) Lưu ý: Trước khi đóng tài khoản AWS, đọc kỹ hướng dẫn và tác động của việc đóng tài khoản trong tài liệu AWS.\nMở AWS Organizations console ở tài khoản quản lý.\nTruy cập organizational unit của Innovation Sandbox on AWS.\nMở từng sub-organizational unit để tìm các tài khoản sandbox.\nVới mỗi tài khoản cần đóng:\nChọn tài khoản.\nVào Actions \u0026gt; Close.\nXác nhận bằng cách nhập AWS account ID.\nXong! Thế là đã dọn dẹp xong toàn bộ Innovation Sandbox on AWS khỏi môi trường thử nghiệm rồi.\n"
},
{
	"uri": "//localhost:1313/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "//localhost:1313/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]